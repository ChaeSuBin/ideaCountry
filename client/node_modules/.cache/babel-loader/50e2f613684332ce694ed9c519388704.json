{"ast":null,"code":"var _jsxFileName = \"/home/giparang/threadweb/sinsekai/client/src/pages/IdeaUpage.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { ListItemsCompnt } from '../components/ItemsCpnt';\nimport { getMyIdeas, getIdeaOne, postCreateIdea, putUpdateIdea } from \"../api.js\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MarketIead = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const account = useState(sessionStorage.getItem('userid'));\n  const [firstPage, setFirst] = useState(false);\n  const [secondPage, setSecond] = useState(false);\n  const [thirdPage, setThird] = useState(false);\n  const [ideaInstance, setInstance] = useState({\n    title: '',\n    teamId: null\n  });\n  const [title, setTitle] = useState();\n  const [genre, setGenre] = useState('');\n  const [price, setCall] = useState(null);\n  useEffect(() => {\n    if (account !== null) setFirst(true);\n    if (secondPage) uploadIdea();\n  }, [secondPage]);\n\n  const uploadIdea = () => {\n    const record = {\n      teamId: ideaInstance.teamId,\n      type: 1,\n      price: price\n    };\n    putUpdateIdea(record).then(result => {\n      if (result) {\n        if (!alert('아이디어가 업로드되었습니다.')) navigate(\"/search/market\");\n      } else alert('err40022');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-header\",\n      children: firstPage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: ideaInstance.teamId !== null ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: secondPage ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(SecondSection, {\n            ideaIns: ideaInstance,\n            setSecond: setSecond,\n            setPrice: e => setCall(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 19\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(FirstSection, {\n          account: account[0],\n          setIdea: e => setInstance(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uD310\\uB9E4\\uB97C \\uD558\\uB824\\uBA74 \\uBA3C\\uC800 \\uB85C\\uADF8\\uC778\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MarketIead, \"L9vqQ+mAJVzJmIlL3yeDn1nn9VU=\", false, function () {\n  return [useNavigate];\n});\n\n_c = MarketIead;\n\nconst FirstSection = _ref => {\n  _s2();\n\n  let {\n    account,\n    setIdea\n  } = _ref;\n  const [teams, setTeams] = useState([]);\n  useEffect(() => {\n    findMyIdeas();\n  }, []);\n\n  const findMyIdeas = () => {\n    getMyIdeas(account).then(async ideas => {\n      const result = await setMyIdea(ideas);\n      setTimeout(() => {\n        setTeams(result); //console.log(result.length);\n      }, 439);\n    });\n  };\n\n  const setMyIdea = _ideas => {\n    let tempArray = [];\n    return new Promise(resolve => {\n      for (let iter = 0; _ideas.length > iter; ++iter) {\n        getIdeaOne(_ideas[iter].teamId).then(team => {\n          if (team.type === 3) tempArray.push(team);\n        });\n      }\n\n      resolve(tempArray);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      alignSelf: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uC544\\uB798 \\uB9AC\\uC2A4\\uD2B8\\uC758 \\uC544\\uC774\\uB514\\uC5B4\\uB4E4\\uC911 \\uD310\\uB9E4\\uD560 \\uC544\\uC774\\uB514\\uC5B4\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC2ED\\uC2DC\\uC624\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 42\n      }, this), \"(\\uC9C4\\uD589\\uC911\\uC778 \\uC544\\uC774\\uB514\\uC5B4\\uB9CC \\uD45C\\uC2DC\\uB429\\uB2C8\\uB2E4)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), teams.map((searchItems, index) => /*#__PURE__*/_jsxDEV(ListItemsCompnt, {\n      title: searchItems.title,\n      description: searchItems.description,\n      teamid: searchItems.id,\n      type: searchItems.type,\n      genre: searchItems.jenre,\n      display: true,\n      choice: e => setIdea(e)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(FirstSection, \"nt+I693XwTdNiKlXHWfWa22BjIk=\");\n\n_c2 = FirstSection;\n\nconst SecondSection = _ref2 => {\n  let {\n    ideaIns,\n    setPrice,\n    setSecond\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uACBD\\uB9E4\\uC5D0 \\uC62C\\uB9B4 \\uC544\\uC774\\uB514\\uC5B4 :\", ideaIns.title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uC120\\uD0DD\\uD55C \\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uACBD\\uB9E4 \\uC2DC\\uC791\\uAC00\\uB97C \\uC785\\uB825 \\uD6C4 \\uC644\\uB8CC \\uBC84\\uD2BC\\uC744 \\uB20C\\uB7EC\\uC8FC\\uC2ED\\uC2DC\\uC624\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 50\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      min: 0,\n      max: 999999,\n      step: 1,\n      onChange: evt => setPrice(evt.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 111\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 116\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setSecond(true),\n      children: \"\\uC644\\uB8CC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n\n_c3 = SecondSection;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"MarketIead\");\n$RefreshReg$(_c2, \"FirstSection\");\n$RefreshReg$(_c3, \"SecondSection\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ListItemsCompnt","getMyIdeas","getIdeaOne","postCreateIdea","putUpdateIdea","MarketIead","navigate","account","sessionStorage","getItem","firstPage","setFirst","secondPage","setSecond","thirdPage","setThird","ideaInstance","setInstance","title","teamId","setTitle","genre","setGenre","price","setCall","uploadIdea","record","type","then","result","alert","e","FirstSection","setIdea","teams","setTeams","findMyIdeas","ideas","setMyIdea","setTimeout","_ideas","tempArray","Promise","resolve","iter","length","team","push","alignSelf","map","searchItems","index","description","id","jenre","SecondSection","ideaIns","setPrice","evt","target","value"],"sources":["/home/giparang/threadweb/sinsekai/client/src/pages/IdeaUpage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { ListItemsCompnt } from '../components/ItemsCpnt';\nimport { getMyIdeas, getIdeaOne, postCreateIdea, putUpdateIdea } from \"../api.js\";\n\nexport const MarketIead = () => {\n  const navigate = useNavigate();\n  const account = useState(sessionStorage.getItem('userid'));\n  const [firstPage, setFirst] = useState(false);\n  const [secondPage, setSecond] = useState(false);\n  const [thirdPage, setThird] = useState(false);\n  \n  const [ideaInstance, setInstance] = useState({title:'', teamId:null});\n  const [title, setTitle] = useState();\n  const [genre, setGenre] = useState('');\n  const [price, setCall] = useState(null);\n\n  useEffect(() => {\n    if(account !== null)\n      setFirst(true);\n    if(secondPage)\n      uploadIdea();\n  },[secondPage]);\n  \n  const uploadIdea = () => {\n    const record = {\n      teamId: ideaInstance.teamId,\n      type: 1,\n      price: price\n    }\n    putUpdateIdea(record).then(result => {\n      if(result){\n        if(!alert('아이디어가 업로드되었습니다.'))\n          navigate(\"/search/market\");\n      }\n      else\n        alert('err40022');\n    })\n  }\n\n  return(\n    <div className=\"App\">\n      <div className=\"App-header\">\n        {firstPage ? <>\n          {ideaInstance.teamId!==null ? <>\n            {secondPage ? <>\n              </>:<SecondSection ideaIns={ideaInstance} setSecond={setSecond} setPrice={(e)=>setCall(e)}></SecondSection>}\n            </>:<FirstSection account={account[0]} setIdea={(e)=>setInstance(e)}/>}\n          </> : <p>아이디어 판매를 하려면 먼저 로그인해야 합니다.</p>\n        }\n      </div>\n    </div>\n  )\n}\nconst FirstSection = ({account, setIdea}) => {\n  const [teams, setTeams] = useState([]);\n\n  useEffect(()=>{\n    findMyIdeas();\n  },[]);\n\n  const findMyIdeas = () => {\n    getMyIdeas(account).then(async(ideas) => {\n      const result = await setMyIdea(ideas);\n      setTimeout(() => {\n        setTeams(result);\n        //console.log(result.length);\n      }, 439);\n    })\n  }\n  const setMyIdea = (_ideas) => {\n    let tempArray = [];\n    return new Promise(resolve => {\n      for(let iter = 0; _ideas.length > iter; ++iter){\n        getIdeaOne(_ideas[iter].teamId).then(team => {\n          if(team.type===3) tempArray.push(team);\n        })\n      }\n      resolve(tempArray);\n    })\n  }\n  \n  return(\n    <div style={{alignSelf:'center'}}>\n      <p>아래 리스트의 아이디어들중 판매할 아이디어를 선택해주십시오<br/>(진행중인 아이디어만 표시됩니다)</p>\n      {teams.map((searchItems, index) => (\n        <ListItemsCompnt\n          key={index}\n          title = {searchItems.title}\n          description = {searchItems.description}\n          teamid = {searchItems.id}\n          type = {searchItems.type}\n          genre = {searchItems.jenre}\n          display={true}\n          choice = {(e)=>setIdea(e)}\n        />\n      ))}\n    </div>\n  )\n}\nconst SecondSection = ({ideaIns, setPrice, setSecond}) => {\n  return(\n    <section>\n      <p>경매에 올릴 아이디어 :{ideaIns.title}</p>\n      <p>선택한 아이디어의 경매 시작가를 입력 후 완료 버튼을 눌러주십시오</p><br/>\n      <input type='number' min={0} max={999999} step={1} onChange={(evt)=>setPrice(evt.target.value)}></input><br/><br/>\n      <button onClick={()=>setSecond(true)}>완료</button>\n    </section>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}