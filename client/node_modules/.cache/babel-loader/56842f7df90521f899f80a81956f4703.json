{"ast":null,"code":"import _regeneratorRuntime from\"/home/giparang/threadweb/sinsekai/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/giparang/threadweb/sinsekai/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/giparang/threadweb/sinsekai/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import FileViewer from\"react-file-viewer\";import{getIdeaOne,putFileReadFact}from\"../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ViewFile=function ViewFile(_ref){var title=_ref.title,teamid=_ref.teamid,confidence=_ref.confidence;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),checkFild=_useState2[0],setCheck=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),view=_useState4[0],setView=_useState4[1];var file=\"https://ideaideaserver.herokuapp.com/viewdocx/\".concat(title);//const file = `http://localhost:3039/viewdocx/${title}`;\nvar type=\"pdf\";useEffect(function(){if(confidence)setFileRead();fileinspect();},[]);var setFileRead=function setFileRead(){var record={teamId:teamid,userId:sessionStorage.getItem('userid'),docuName:title};putFileReadFact(record).then(function(result){console.log(result);});};var fileinspect=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var fileCheck;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getIdeaOne(teamid);case 2:fileCheck=_context.sent;console.log(fileCheck.file);setCheck(fileCheck.file);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fileinspect(){return _ref2.apply(this,arguments);};}();var handleView=function handleView(){if(checkFild)setView(!view);else alert('file does not exist');};return/*#__PURE__*/_jsxs(\"div\",{style:{color:'black'},children:[confidence?/*#__PURE__*/_jsx(\"button\",{onClick:handleView,className:\"button02\",children:\"\\uC544\\uC774\\uB514\\uC5B4 \\uAD6C\\uD604\\uC5D0 \\uB300\\uD55C \\uD30C\\uC77C\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleView,className:\"button02\",children:\"\\uC774 \\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uC0C1\\uC138\\uC124\\uBA85 \\uD3BC\\uCE58\\uAE30\"}),view&&/*#__PURE__*/_jsx(FileViewer,{fileType:type,filePath:file})]});};","map":{"version":3,"names":["React","useState","useEffect","FileViewer","getIdeaOne","putFileReadFact","ViewFile","title","teamid","confidence","checkFild","setCheck","view","setView","file","type","setFileRead","fileinspect","record","teamId","userId","sessionStorage","getItem","docuName","then","result","console","log","fileCheck","handleView","alert","color"],"sources":["/home/giparang/threadweb/sinsekai/client/src/components/fileViewer.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport FileViewer from \"react-file-viewer\";\nimport { getIdeaOne, putFileReadFact } from \"../api\";\n\nexport const ViewFile = ({title, teamid, confidence}) => {\n  const [checkFild, setCheck] = useState(false);\n  const [view, setView] = useState(false);\n  const file = `https://ideaideaserver.herokuapp.com/viewdocx/${title}`;\n  //const file = `http://localhost:3039/viewdocx/${title}`;\n  const type = \"pdf\";\n\n  useEffect(()=>{\n    if(confidence)\n      setFileRead();\n    fileinspect();\n  },[]);\n  \n  const setFileRead = () => {\n    const record = {\n      teamId: teamid,\n      userId: sessionStorage.getItem('userid'),\n      docuName: title\n    }\n    putFileReadFact(record).then(result => {\n      console.log(result);\n    })\n  }\n  const fileinspect = async() => {\n    const fileCheck = await getIdeaOne(teamid);\n    console.log(fileCheck.file);\n    setCheck(fileCheck.file);\n  }\n  const handleView = () => {\n    if(checkFild)\n      setView(!view);\n    else\n      alert('file does not exist');\n  };\n    \n  return (\n    <div style={{color:'black'}}>\n      { confidence ? <button onClick={handleView} className=\"button02\">아이디어 구현에 대한 파일</button> : <button onClick={handleView} className=\"button02\">이 아이디어의 상세설명 펼치기</button>}\n      \n      {view && (\n        <FileViewer\n          fileType={type}\n          filePath={file}\n        />\n      )}\n    </div>\n  );\n}"],"mappings":"0YAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,WAAP,KAAuB,mBAAvB,CACA,OAASC,UAAT,CAAqBC,eAArB,KAA4C,QAA5C,C,wFAEA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,MAAiC,IAA/BC,MAA+B,MAA/BA,KAA+B,CAAxBC,MAAwB,MAAxBA,MAAwB,CAAhBC,UAAgB,MAAhBA,UAAgB,CACvD,cAA8BR,QAAQ,CAAC,KAAD,CAAtC,wCAAOS,SAAP,eAAkBC,QAAlB,eACA,eAAwBV,QAAQ,CAAC,KAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eACA,GAAMC,KAAI,yDAAoDP,KAApD,CAAV,CACA;AACA,GAAMQ,KAAI,CAAG,KAAb,CAEAb,SAAS,CAAC,UAAI,CACZ,GAAGO,UAAH,CACEO,WAAW,GACbC,WAAW,GACZ,CAJQ,CAIP,EAJO,CAAT,CAMA,GAAMD,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,GAAME,OAAM,CAAG,CACbC,MAAM,CAAEX,MADK,CAEbY,MAAM,CAAEC,cAAc,CAACC,OAAf,CAAuB,QAAvB,CAFK,CAGbC,QAAQ,CAAEhB,KAHG,CAAf,CAKAF,eAAe,CAACa,MAAD,CAAf,CAAwBM,IAAxB,CAA6B,SAAAC,MAAM,CAAI,CACrCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACD,CAFD,EAGD,CATD,CAUA,GAAMR,YAAW,6FAAG,yKACMb,WAAU,CAACI,MAAD,CADhB,QACZoB,SADY,eAElBF,OAAO,CAACC,GAAR,CAAYC,SAAS,CAACd,IAAtB,EACAH,QAAQ,CAACiB,SAAS,CAACd,IAAX,CAAR,CAHkB,sDAAH,kBAAXG,YAAW,2CAAjB,CAKA,GAAMY,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,GAAGnB,SAAH,CACEG,OAAO,CAAC,CAACD,IAAF,CAAP,CADF,IAGEkB,MAAK,CAAC,qBAAD,CAAL,CACH,CALD,CAOA,mBACE,aAAK,KAAK,CAAE,CAACC,KAAK,CAAC,OAAP,CAAZ,WACItB,UAAU,cAAG,eAAQ,OAAO,CAAEoB,UAAjB,CAA6B,SAAS,CAAC,UAAvC,mFAAH,cAA+E,eAAQ,OAAO,CAAEA,UAAjB,CAA6B,SAAS,CAAC,UAAvC,+FAD7F,CAGGjB,IAAI,eACH,KAAC,UAAD,EACE,QAAQ,CAAEG,IADZ,CAEE,QAAQ,CAAED,IAFZ,EAJJ,GADF,CAYD,CA/CM"},"metadata":{},"sourceType":"module"}