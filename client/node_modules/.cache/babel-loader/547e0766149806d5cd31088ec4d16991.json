{"ast":null,"code":"var _jsxFileName = \"/home/giparang/threadweb/sinsekai/client/src/components/auctionInput.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { postHold, getPlayersId, putBidIdea } from \"../api.js\";\nimport { registChecker } from \"./registCatch.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const AuctionInput = _ref => {\n  _s();\n\n  let {\n    showFlag,\n    account,\n    onClose,\n    cont,\n    ptcps\n  } = _ref;\n  const [recognize, setRecog] = useState(false);\n\n  const getNow = () => {\n    const genzai = Date.now();\n    console.log(genzai);\n  };\n\n  const recogBtn = () => {\n    setRecog(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showFlag ?\n    /*#__PURE__*/\n    // showFlagがtrueだったらModalを表示する\n    _jsxDEV(\"div\", {\n      id: \"overlay\",\n      className: \"overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"modalcontents\",\n        className: \"modalcontents\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: recognize ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uC785\\uCC30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 22,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(InputForm, {\n              useraddr: account,\n              contents: cont,\n              ptcps: ptcps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 23,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onClose,\n              children: \"close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 24,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"ol\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uAC00\\uC7A5 \\uB192\\uC740 \\uD638\\uAC00\\uB97C \\uBD80\\uB978 \\uCC38\\uC5EC\\uC790\\uB294 \\uC785\\uCC30\\uAE30\\uAC04 \\uC885\\uB8CC\\uD6C4 \\uD638\\uAC00\\uB9CC\\uD07C\\uC758 \\uD3EC\\uC778\\uD2B8\\uB97C \\uC5D0\\uC2A4\\uD06C\\uB85C\\uC5D0 \\uC774\\uCCB4\\uC2DC\\uCF1C\\uC57C \\uD569\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uC774\\uCCB4\\uAC00 \\uC644\\uB8CC\\uB418\\uBA74 \\uD574\\uB2F9 \\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uAD6C\\uD604, \\uC6D0\\uB9AC\\uB4F1 \\uC790\\uC138\\uD55C \\uB0B4\\uC6A9\\uC774 \\uB2F4\\uAE34 \\uC0C1\\uC138\\uD30C\\uC77C\\uC744 \\uC5F4\\uB78C\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 28,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uC0C1\\uC138\\uD30C\\uC77C\\uC758 \\uC5F4\\uB78C\\uC0AC\\uC2E4\\uC740 \\uBD84\\uC0B0\\uC6D0\\uC7A5\\uC5D0 \\uC601\\uAD6C\\uD788 \\uAE30\\uB85D\\uB418\\uBA70 \\uD30C\\uC77C \\uB0B4\\uC6A9\\uC758 \\uBB34\\uB2E8\\uBC30\\uD3EC/\\uB3C4\\uC6A9\\uB4F1\\uC758 \\uBD84\\uC7C1\\uBC1C\\uC0DD\\uC2DC \\uD574\\uACB0\\uC744 \\uC704\\uD55C \\uAE30\\uB85D\\uC73C\\uB85C \\uC0AC\\uC6A9\\uB420 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 29,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uC0C1\\uC138\\uD30C\\uC77C\\uC5D0 \\uAE30\\uC7AC\\uB41C \\uB0B4\\uC6A9\\uC774 \\uBD80\\uC2E4\\uD558\\uB2E4\\uACE0 \\uC0DD\\uAC01\\uB420 \\uACBD\\uC6B0 \\uAC70\\uB798\\uB97C \\uD3EC\\uAE30\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 30,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 26,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: recogBtn,\n              children: \"\\uC704 \\uC0AC\\uD56D\\uC744 \\uC219\\uC9C0\\uD558\\uC600\\uC2B5\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) // showFlagがfalseの場合はModalは表示しない)\n\n  }, void 0, false);\n};\n\n_s(AuctionInput, \"R0F+0xvHNqea623ZIDnSN2OFnOI=\");\n\n_c = AuctionInput;\n\nfunction InputForm(_ref2) {\n  _s2();\n\n  let {\n    useraddr,\n    contents,\n    ptcps\n  } = _ref2;\n  const [price, setPrice] = useState(contents.ideaToken);\n  const [playerid, setId] = useState();\n  const name = contents.title;\n  useEffect(() => {\n    regiCheck();\n  }, []);\n\n  const regiCheck = () => {\n    setId(registChecker(useraddr));\n  };\n\n  async function handleFormSubmit(evt) {\n    const bidValue = parseInt(evt.target.elements.bid.value, 10);\n    const iPrice = parseInt(price, 10);\n\n    if (evt.target.elements.bid.value > iPrice) {\n      //evt.preventDefault();\n      const record = {\n        teamid: contents.id,\n        bidtoken: evt.target.elements.bid.value,\n        userid: playerid,\n        status: 5\n      }; //console.log(record);\n\n      setHold(playerid, evt.target.elements.bid.value);\n      alert('입찰 되었습니다'); //await postHold(record);\n    } else {\n      alert('입찰할 토큰 수량은 ' + price + '보다 커야합니다.');\n    }\n  }\n\n  async function setHold(_playerId, _inputToken) {\n    let firstPtcp = true;\n    if (ptcps > 0) firstPtcp = false;\n    await putBidIdea({\n      teamid: contents.id,\n      userid: _playerId,\n      bidtoken: _inputToken,\n      first: firstPtcp\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"\\uC544\\uC774\\uB514\\uC5B4 \\uC774\\uB984: \", name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        margin: 0,\n        fontSize: \"18px\"\n      },\n      children: [\"\\uD604\\uC7AC \\uD638\\uAC00 \\uB610\\uB294 \\uC2DC\\uC791\\uAC00: \", price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        margin: 0,\n        fontSize: \"18px\"\n      },\n      children: [\"\\uACBD\\uB9E4 \\uCC38\\uC5EC\\uC790 \\uC218: \", ptcps]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), \"\\uC785\\uCC30\\uD560 \\uD3EC\\uC778\\uD2B8:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      min: price,\n      max: 999999,\n      step: 1,\n      onChange: evt => setPrice(evt.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"App-exeButton2\",\n      children: \"send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(InputForm, \"HUOhgvBYKuBNjx1ru8pUUEnGOC0=\");\n\n_c2 = InputForm;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AuctionInput\");\n$RefreshReg$(_c2, \"InputForm\");","map":{"version":3,"names":["React","useEffect","useState","postHold","getPlayersId","putBidIdea","registChecker","AuctionInput","showFlag","account","onClose","cont","ptcps","recognize","setRecog","getNow","genzai","Date","now","console","log","recogBtn","InputForm","useraddr","contents","price","setPrice","ideaToken","playerid","setId","name","title","regiCheck","handleFormSubmit","evt","bidValue","parseInt","target","elements","bid","value","iPrice","record","teamid","id","bidtoken","userid","status","setHold","alert","_playerId","_inputToken","firstPtcp","first","margin","fontSize"],"sources":["/home/giparang/threadweb/sinsekai/client/src/components/auctionInput.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { postHold, getPlayersId, putBidIdea } from \"../api.js\";\nimport { registChecker } from \"./registCatch.js\";\n\nexport const AuctionInput = ({showFlag, account, onClose, cont, ptcps}) => {\n\n  const [recognize, setRecog] = useState(false);\n\n  const getNow = () => {\n    const genzai = Date.now();\n    console.log(genzai);\n  }\n  const recogBtn = () => {\n    setRecog(true);\n  }\n  return(\n    <>{showFlag ? ( // showFlagがtrueだったらModalを表示する\n    <div id=\"overlay\" className='overlay'>\n      <div id=\"modalcontents\" className=\"modalcontents\">\n        <div>\n          { recognize ? <>\n            <p>입찰</p>\n            <InputForm useraddr={account} contents={cont} ptcps={ptcps}/>\n            <button onClick={onClose}>close</button>\n          </>:<>\n            <ol>\n              <li>가장 높은 호가를 부른 참여자는 입찰기간 종료후 호가만큼의 포인트를 에스크로에 이체시켜야 합니다.</li>\n              <li>이체가 완료되면 해당 아이디어의 구현, 원리등 자세한 내용이 담긴 상세파일을 열람할 수 있습니다.</li>\n              <li>상세파일의 열람사실은 분산원장에 영구히 기록되며 파일 내용의 무단배포/도용등의 분쟁발생시 해결을 위한 기록으로 사용될 수 있습니다.</li>\n              <li>상세파일에 기재된 내용이 부실하다고 생각될 경우 거래를 포기할 수 있습니다.</li>\n            </ol>\n          <button onClick={recogBtn}>위 사항을 숙지하였습니다.</button>\n          </>}\n          \n        </div>\n      </div>\n    </div>\n    ) : (\n      <></>// showFlagがfalseの場合はModalは表示しない)\n    )}\n    </>\n  )\n}\n\nfunction InputForm({useraddr, contents, ptcps}) {\n  const [price , setPrice] = useState(contents.ideaToken);\n  const [playerid , setId] = useState();\n  const name = contents.title;\n  \n  useEffect(()=>{\n    regiCheck();\n  },[]);\n\n  const regiCheck = () => {\n    setId(registChecker(useraddr));\n  }\n  \n  async function handleFormSubmit(evt) {\n    const bidValue = parseInt(evt.target.elements.bid.value, 10);\n    const iPrice = parseInt(price, 10);\n    if(evt.target.elements.bid.value > iPrice){\n      //evt.preventDefault();\n      const record = {\n        teamid: contents.id,\n        bidtoken: evt.target.elements.bid.value,\n        userid: playerid,\n        status: 5\n      };\n      //console.log(record);\n      setHold(playerid, evt.target.elements.bid.value);\n      alert('입찰 되었습니다');\n      //await postHold(record);\n    }\n    else{\n      alert('입찰할 토큰 수량은 ' + price + '보다 커야합니다.');\n    }\n  }\n  async function setHold(_playerId, _inputToken){\n    let firstPtcp = true;\n    if(ptcps > 0)\n      firstPtcp = false;\n    await putBidIdea({\n      teamid: contents.id, \n      userid: _playerId,\n      bidtoken: _inputToken,\n      first: firstPtcp});\n  }\n\n  return(\n    <>\n      아이디어 이름: {name} <br/>\n      <p style={{margin: 0, fontSize: \"18px\"}}>현재 호가 또는 시작가: {price}</p>\n      <p style={{margin: 0, fontSize: \"18px\"}}>경매 참여자 수: {ptcps}</p>\n      <br/>입찰할 포인트:<br/>\n      <input type='number' min={price} max={999999} step={1} onChange={(evt)=>setPrice(evt.target.value)}></input>\n      <br/><br/>\n      <button type=\"submit\" className=\"App-exeButton2\">send</button>\n    </>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}