{"ast":null,"code":"var _jsxFileName = \"/home/giparang/threadweb/sinsekai/client/src/components/auctionInput.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { putBidIdea, getPlayerInfo } from \"../api.js\";\nimport { registChecker } from \"./registCatch.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const AuctionInput = _ref => {\n  _s();\n\n  let {\n    showFlag,\n    account,\n    onClose,\n    cont,\n    ptcps\n  } = _ref;\n  const [recognize, setRecog] = useState(false);\n\n  const getNow = () => {\n    const genzai = Date.now();\n    console.log(genzai);\n  };\n\n  const recogBtn = () => {\n    if (account !== null) setRecog(true);else alert('!로그인 후 이용해주세요');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showFlag ?\n    /*#__PURE__*/\n    // showFlagがtrueだったらModalを表示する\n    _jsxDEV(\"div\", {\n      id: \"overlay\",\n      className: \"overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"modalcontents\",\n        className: \"modalcontents\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: recognize ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uC785\\uCC30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 23,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(InputForm, {\n              useraddr: account,\n              contents: cont,\n              ptcps: ptcps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 24,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onClose,\n              children: \"close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"ol\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uACBD\\uB9E4 \\uB099\\uCC30\\uC2DC \\uD574\\uB2F9 \\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uC800\\uC791\\uAD8C\\uC744 \\uC2B9\\uACC4\\uBC1B\\uC2B5\\uB2C8\\uB2E4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 28,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uD604\\uC7AC\\uD638\\uAC00 \\uB610\\uB294 \\uC2DC\\uC791\\uAC00\\uBCF4\\uB2E4 \\uB9CE\\uC740 \\uD3EC\\uC778\\uD2B8\\uB97C \\uBCF4\\uC720\\uD558\\uACE0 \\uC788\\uC5B4\\uC57C \\uACBD\\uB9E4 \\uCC38\\uC5EC\\uAC00 \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 29,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uACBD\\uB9E4 \\uBD88\\uCC30\\uC2DC \\uD3EC\\uC778\\uD2B8\\uB294 \\uB2E4\\uC2DC \\uD68C\\uC218\\uB429\\uB2C8\\uB2E4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 30,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uACBD\\uB9E4\\uB294 \\uCCAB \\uCC38\\uC5EC\\uC790 \\uCC38\\uC5EC\\uD6C4 3\\uC77C\\uAC04 \\uC9C4\\uD589\\uB429\\uB2C8\\uB2E4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 31,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: recogBtn,\n              children: \"\\uC704 \\uC0AC\\uD56D\\uC744 \\uC219\\uC9C0\\uD558\\uC600\\uC2B5\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) // showFlagがfalseの場合はModalは表示しない)\n\n  }, void 0, false);\n};\n\n_s(AuctionInput, \"R0F+0xvHNqea623ZIDnSN2OFnOI=\");\n\n_c = AuctionInput;\n\nfunction InputForm(_ref2) {\n  _s2();\n\n  let {\n    useraddr,\n    contents,\n    ptcps\n  } = _ref2;\n  const [price, setPrice] = useState(contents.ideaToken);\n  const [playerId, setId] = useState();\n  const [playerPoint, setPoint] = useState();\n  const [call, setCall] = useState();\n  const name = contents.title;\n  useEffect(() => {\n    regiCheck();\n  }, []);\n\n  const regiCheck = () => {\n    setId(registChecker(useraddr));\n    getPlayerInfo(useraddr).then(result => {\n      setPoint(result.token);\n    });\n  };\n\n  const sendBtn = () => {\n    if (price <= playerPoint) {\n      if (call > price) ptcpInAuction();else alert('입찰할 토큰 수량은 ' + price + '보다 커야합니다.');\n    } else alert('보유 포인트가 해당 경매에 참여하기에 부족합니다');\n  };\n\n  const ptcpInAuction = () => {\n    let firstPtcp = true;\n    if (ptcps > 0) firstPtcp = false;\n    const result = putBidIdea({\n      //result = false or true\n      teamId: contents.id,\n      userId: useraddr,\n      bidtoken: call,\n      first: firstPtcp\n    }).then(success => {\n      if (success) alert('입찰 되었습니다');else console.log('err 334');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"\\uC544\\uC774\\uB514\\uC5B4 \\uC774\\uB984: \", name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        margin: 0,\n        fontSize: \"18px\"\n      },\n      children: [\"\\uD604\\uC7AC \\uD638\\uAC00 \\uB610\\uB294 \\uC2DC\\uC791\\uAC00: \", price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        margin: 0,\n        fontSize: \"18px\"\n      },\n      children: [\"\\uACBD\\uB9E4 \\uCC38\\uC5EC\\uC790 \\uC218: \", ptcps]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), \"\\uC785\\uCC30\\uD560 \\uD3EC\\uC778\\uD2B8:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      min: price,\n      max: 999999,\n      step: 1,\n      onChange: evt => setCall(evt.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"App-exeButton2\",\n      onClick: sendBtn,\n      children: \"send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(InputForm, \"XwV5KaOA6VG+4wTs+NEbFC6lVMU=\");\n\n_c2 = InputForm;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AuctionInput\");\n$RefreshReg$(_c2, \"InputForm\");","map":{"version":3,"names":["React","useEffect","useState","putBidIdea","getPlayerInfo","registChecker","AuctionInput","showFlag","account","onClose","cont","ptcps","recognize","setRecog","getNow","genzai","Date","now","console","log","recogBtn","alert","InputForm","useraddr","contents","price","setPrice","ideaToken","playerId","setId","playerPoint","setPoint","call","setCall","name","title","regiCheck","then","result","token","sendBtn","ptcpInAuction","firstPtcp","teamId","id","userId","bidtoken","first","success","margin","fontSize","evt","target","value"],"sources":["/home/giparang/threadweb/sinsekai/client/src/components/auctionInput.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { putBidIdea, getPlayerInfo } from \"../api.js\";\nimport { registChecker } from \"./registCatch.js\";\n\nexport const AuctionInput = ({showFlag, account, onClose, cont, ptcps}) => {\n\n  const [recognize, setRecog] = useState(false);\n\n  const getNow = () => {\n    const genzai = Date.now();\n    console.log(genzai);\n  }\n  const recogBtn = () => {\n    if(account !== null) setRecog(true);\n    else alert('!로그인 후 이용해주세요');\n  }\n  return(\n    <>{showFlag ? ( // showFlagがtrueだったらModalを表示する\n    <div id=\"overlay\" className='overlay'>\n      <div id=\"modalcontents\" className=\"modalcontents\">\n        <div>\n          { recognize ? <>\n            <p>입찰</p>\n            <InputForm useraddr={account} contents={cont} ptcps={ptcps}/>\n            <button onClick={onClose}>close</button>\n          </>:<>\n            <ol>\n              <li>경매 낙찰시 해당 아이디어의 저작권을 승계받습니다</li>\n              <li>현재호가 또는 시작가보다 많은 포인트를 보유하고 있어야 경매 참여가 가능합니다</li>\n              <li>경매 불찰시 포인트는 다시 회수됩니다</li>\n              <li>경매는 첫 참여자 참여후 3일간 진행됩니다</li>\n            </ol>\n          <button onClick={recogBtn}>위 사항을 숙지하였습니다.</button>\n          </>}\n          \n        </div>\n      </div>\n    </div>\n    ) : (\n      <></>// showFlagがfalseの場合はModalは表示しない)\n    )}\n    </>\n  )\n}\n\nfunction InputForm({useraddr, contents, ptcps}) {\n  const [price , setPrice] = useState(contents.ideaToken);\n  const [playerId , setId] = useState();\n  const [playerPoint, setPoint] = useState();\n  const [call , setCall] = useState();\n  const name = contents.title;\n  \n  useEffect(()=>{\n    regiCheck();\n  },[]);\n\n  const regiCheck = () => {\n    setId(registChecker(useraddr));\n    getPlayerInfo(useraddr).then(result => {\n      setPoint(result.token);\n    })\n  }\n  \n  const sendBtn = () => {\n    if(price <= playerPoint){\n      if(call > price) ptcpInAuction();\n      else alert('입찰할 토큰 수량은 ' + price + '보다 커야합니다.');\n    }\n    else alert('보유 포인트가 해당 경매에 참여하기에 부족합니다');\n  }\n  \n  const ptcpInAuction = () => {\n    let firstPtcp = true;\n    if(ptcps > 0)\n      firstPtcp = false;\n\n    const result = putBidIdea({  //result = false or true\n      teamId: contents.id, \n      userId: useraddr,\n      bidtoken: call,\n      first: firstPtcp\n    }).then(success => {\n      if(success)\n        alert('입찰 되었습니다');\n      else\n        console.log('err 334');\n    })\n  }\n\n  return(\n    <>\n      아이디어 이름: {name} <br/>\n      <p style={{margin: 0, fontSize: \"18px\"}}>현재 호가 또는 시작가: {price}</p>\n      <p style={{margin: 0, fontSize: \"18px\"}}>경매 참여자 수: {ptcps}</p>\n      <br/>입찰할 포인트:<br/>\n      <input type='number' min={price} max={999999} step={1} onChange={(evt)=>setCall(evt.target.value)}></input>\n      <br/><br/>\n      <button className=\"App-exeButton2\" onClick={sendBtn}>send</button>\n    </>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}