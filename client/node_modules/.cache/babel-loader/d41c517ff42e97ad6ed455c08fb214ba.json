{"ast":null,"code":"var _jsxFileName = \"/home/giparang/threadweb/sinsekai/client/src/pages/ideaPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { withRouter } from '../components/withRouteCpnt.js';\nimport { ViewFile } from '../components/fileViewer.js';\nimport { AuctionInput } from '../components/auctionInput.js';\nimport { CooperInput } from '../components/cooperInput.js';\nimport { CoopAccept } from '../components/cooperInput.js';\nimport { getIdeaOwner, getPlayers, putAddGood, getIdeaOne, getRemainTime, postTeamReply, getReply } from '../api';\nimport { useRoutes } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass IdeaDetails extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentWillUnmount = () => {\n      clearTimeout(this.timer);\n    };\n\n    this.componentDidMount = () => {\n      //console.log(this.props.router);\n      this.getContents();\n      setTimeout(() => {\n        this.setState({\n          slide: false\n        });\n      }, 1300);\n    };\n\n    this.getContents = () => {\n      const teamId = parseInt(this.props.router.params.teamid, 10);\n      getIdeaOne(teamId).then(content => {\n        this.setState({\n          contents: content\n        });\n        this.getPlayer(content.id);\n      });\n    };\n\n    this.getPlayer = _ideaid => {\n      getIdeaOwner(_ideaid).then(data => {\n        this.setState({\n          owner: data\n        });\n      });\n      getPlayers(_ideaid).then(data => {\n        this.setState({\n          ptcpsNum: data.length\n        });\n      });\n    };\n\n    this.viewBranch = () => {\n      const ideaType = parseInt(this.props.router.params.type, 10);\n\n      if (ideaType == 0) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textprerap\",\n          children: /*#__PURE__*/_jsxDEV(Cooperate, {\n            content: this.state.contents,\n            account: this.state.uid,\n            writer: this.state.owner\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this);\n      } else if (ideaType == 1) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textprerap\",\n          children: [/*#__PURE__*/_jsxDEV(InfoBlock, {\n            contents: this.state.contents,\n            account: this.state.uid,\n            ptcpNum: this.state.ptcpsNum,\n            openAuctionIntput: () => this.setState({\n              showFlag: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(AuctionInput, {\n            showFlag: this.state.showFlag,\n            account: this.state.uid,\n            cont: this.state.contents,\n            ptcps: this.state.ptcpsNum,\n            onClose: () => {\n              this.modalClose();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this);\n      } else if (ideaType == 2) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textprerap\",\n          children: [/*#__PURE__*/_jsxDEV(GoodAndPush, {\n            content: this.state.contents,\n            account: this.state.uid,\n            writer: this.state.owner\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(InputReply, {\n            account: this.state.uid,\n            teamId: this.props.router.params.teamid\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textprerap\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uC2E4\\uD589/\\uAD6C\\uD604\\uC5D0 \\uAD00\\uD55C \\uC124\\uBA85\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(ViewFile, {\n              title: this.state.contents.title + 'd',\n              teamid: this.state.contents.id,\n              confidence: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\uB099\\uCC30\\uC744 \\uD655\\uC815\\uC9D3\\uC9C0 \\uC544\\uB2C8\\uD55C \\uC0C1\\uD0DC\\uC5D0\\uC11C \\uC704 \\uD30C\\uC77C\\uC758 \\uB0B4\\uC6A9\\uC744 \\uB3C4\\uC6A9\\uD558\\uAC70\\uB098 \\uD0C0\\uC778\\uC5D0\\uAC8C \\uBC30\\uD3EC\\uB97C \\uAE08\\uD569\\uB2C8\\uB2E4.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 59\n              }, this), \"\\uD574\\uB2F9 \\uD30C\\uC77C\\uC758 \\uC5F4\\uB78C\\uC0AC\\uC2E4\\uC740 \\uBD84\\uC0B0\\uC6D0\\uC7A5\\uC5D0 \\uC601\\uAD6C\\uD788 \\uAE30\\uB85D\\uB418\\uBA70 \\uC774 \\uAE30\\uB85D\\uC740 \\uD30C\\uC77C\\uC758 \\uBB34\\uB2E8\\uB3C4\\uC6A9/\\uBC30\\uD3EC\\uC2DC \\uBD84\\uC7C1\\uD574\\uACB0\\uC5D0 \\uC0AC\\uC6A9\\uB420 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }, this);\n      }\n    };\n\n    this.modalClose = () => {\n      this.setState({\n        showFlag: false\n      });\n      document.removeEventListener('click', this.modalClose);\n    };\n\n    this.state = {\n      slide: true,\n      remain: null,\n      uid: sessionStorage.getItem('userid'),\n      owner: null,\n      showFlag: false,\n      ptcpsNum: 0,\n      contents: null\n    };\n  }\n\n  // modalOpen = () => {\n  //   this.setState({showFlag: true});\n  // }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'left',\n          margin: '0px'\n        },\n        children: this.state.uid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"App-header\",\n        children: this.state.slide ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uCD5C\\uACE0\\uC758 \\uC544\\uC774\\uB514\\uC5B4 \\uACF5\\uC720 \\uD50C\\uB7AB\\uD3FC /Threads \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 57\n          }, this), \"\\uBB38\\uC11C \\uB85C\\uB4DC \\uC911...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"textprerap\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\uC81C\\uBAA9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.contents.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uC124\\uBA85\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                width: '650px'\n              },\n              children: this.state.contents.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ViewFile, {\n              title: this.state.contents.title,\n              teamid: this.state.contents.id,\n              confidence: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(this.viewBranch, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass GoodAndPush extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.goodBtn = async () => {\n      const record = {\n        owner: this.state.writer,\n        teamId: this.state.content.id,\n        userId: this.state.account\n      };\n      await putAddGood(record).then(data => {\n        if (data) alert('이미 좋아요를 누르셨습니다');else alert('추천이 반영되었습니다');\n      });\n    };\n\n    this.state = {\n      showFlag: false,\n      content: this.props.content,\n      writer: this.props.writer,\n      account: this.props.account\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"fixposition\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'black',\n          marginLeft: '1em',\n          marginBottom: '0px'\n        },\n        children: [\"\\uCD94\\uCC9C\\uC218: \", this.state.content.good]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.goodBtn,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"good\",\n          children: \"\\uD83D\\uDC4D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 38\n        }, this), \"\\uC88B\\uC544\\uC694\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nclass InputReply extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      const reply = await getReply(this.state.teamId);\n      let len = reply.length;\n      let content = [];\n      let writer = [];\n\n      while (len) {\n        content.push(reply[len - 1].description);\n        writer.push(reply[len - 1].account);\n        len -= 1;\n      } //console.log(content);\n\n\n      this.setState({\n        replyContent: content\n      });\n      this.setState({\n        replyWirter: writer\n      });\n    };\n\n    this.upReButton = () => {\n      if (this.state.account !== null) {\n        const record = {\n          content: this.state.content,\n          location: this.state.teamId,\n          account: this.state.account\n        };\n        postTeamReply(record).then(result => {\n          if (result) {\n            let copyReplys = [...this.state.replyContent];\n            let copyReplyWriters = [...this.state.replyWirter];\n            copyReplys.push(this.state.content);\n            copyReplyWriters.push(this.state.account);\n            this.setState({\n              replyContent: copyReplys\n            });\n            this.setState({\n              replyWirter: copyReplyWriters\n            });\n          } else alert('err 83201');\n        });\n      } else alert('로그인 후 이용해주세요');\n    };\n\n    this.onReplChange = evt => {\n      this.setState({\n        content: evt.target.value\n      });\n    };\n\n    this.state = {\n      replyWirter: [],\n      replyContent: [],\n      content: null,\n      teamId: this.props.teamId,\n      account: this.props.account\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uB313\\uAE00 \\uBAA9\\uB85D.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: this.state.replyContent.map((replys, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            margin: '24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '17px',\n              margin: 'auto',\n              color: '#999'\n            },\n            children: [this.state.replyWirter[index], \"\\uB2D8\\uC758 \\uB313\\uAE00\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), this.state.replyContent[index]]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"docudesc\",\n        rows: \"3\",\n        cols: \"60\",\n        placeholder: \"\\uB313\\uAE00 \\uC785\\uB825\",\n        onChange: this.onReplChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.upReButton,\n        children: \"\\uB313\\uAE00\\uB2EC\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nclass InfoBlock extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentWillUnmount = () => {\n      clearInterval(this.timer);\n    };\n\n    this.componentDidMount = () => {\n      if (this.state.contents.days !== null) {\n        this.timer = setInterval(() => {\n          getRemainTime(this.state.contents.id).then(result => {\n            this.setState({\n              remainTime: result\n            });\n          });\n        }, 1000);\n      }\n    };\n\n    this.state = {\n      remainTime: {\n        days: 0,\n        hours: 0,\n        minutes: 0,\n        seconds: 0\n      },\n      showFlag: false,\n      ideaStatus: null,\n      ptcpsNum: this.props.ptcpNum,\n      contents: this.props.contents\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            margin: 'inherit'\n          },\n          children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uACBD\\uB9E4\\uC815\\uBCF4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0\n          },\n          children: [\"\\uACBD\\uB9E4 \\uCC38\\uC5EC\\uC790 \\uC218: \", this.state.ptcpsNum]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0\n          },\n          children: [\"\\uD604\\uC7AC \\uD638\\uAC00 \\uB610\\uB294 \\uC2DC\\uC791\\uAC00: \", this.state.contents.ideaToken, \" points\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 9\n        }, this), this.state.ptcpsNum > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0\n          },\n          children: [\" \\uB0A8\\uC740 \\uACBD\\uB9E4 \\uC2DC\\uAC04: \", this.state.remainTime.days, \"\\uC77C \", this.state.remainTime.hours, \"\\uC2DC\\uAC04 \", this.state.remainTime.minutes, \"\\uBD84 \", this.state.remainTime.seconds, \"\\uCD08\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 34\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.props.openAuctionIntput,\n          className: \"button02\",\n          children: \"\\uC774 \\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uACBD\\uB9E4\\uC5D0 \\uCC38\\uC5EC\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 7\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nconst Cooperate = _ref => {\n  _s();\n\n  let {\n    content,\n    account,\n    writer\n  } = _ref;\n  const [flag, setFlag] = useState(false);\n  const [flag2, setFlag2] = useState(false);\n  const [advices, setAdvices] = useState([]);\n  const [repl, setRepl] = useState({\n    filename: '',\n    account: '',\n    id: null\n  });\n  const [acceptNum, setAccept] = useState(0);\n  const [waiteNum, setWaite] = useState(0);\n  useEffect(() => {\n    let acceptNum = 0;\n    let waiteNum = 0;\n    getReply(content.id).then(result => {\n      for (let fori = 0; fori < result.length; ++fori) {\n        if (result[fori].accept) ++acceptNum;else ++waiteNum;\n      }\n\n      setAccept(acceptNum);\n      setWaite(waiteNum);\n      setAdvices(result);\n    });\n  }, []);\n\n  const openInNewTab = _title => {\n    const file = `https://giparang.asuscomm.com:3039/viewdocx/${_title}`;\n    const newWindow = window.open(file, '_blank', 'noopener,noreferrer');\n    if (newWindow) newWindow.opener = null;\n  };\n\n  const acceptCoop = _repl => {\n    if (account === writer) {\n      setRepl({\n        filename: _repl.filename,\n        account: _repl.account,\n        id: _repl.id\n      }); //setAdvWriter(_repl.account);\n\n      setFlag2(true); //console.log(_repl);\n    } else alert('이 아이디어의 작성자만 협력 제안을 수락할 수 있습니다');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          margin: 'inherit'\n        },\n        children: \"\\uD611\\uB825 \\uC694\\uAD6C\\uC0AC\\uD56D / \\uCC38\\uC5EC\\uC0C1\\uD669\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), content.recruit, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 0\n        },\n        children: [\"\\uCC38\\uC5EC\\uC790 \\uC218: \", acceptNum]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 0\n        },\n        children: [\"\\uB300\\uAE30\\uC790 \\uC218: \", waiteNum]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button02\",\n        onClick: () => setFlag(true),\n        children: \"\\uC774 \\uC544\\uC774\\uB514\\uC5B4\\uC5D0 \\uCC38\\uC5EC\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this), advices.map((replys, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '17px',\n          margin: 'auto',\n          color: '#577070'\n        },\n        children: [replys.account, \"\\uB2D8\\uC758 \\uC81C\\uC548\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this), replys.description, /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [replys.accept === false ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"replState\",\n          onClick: () => acceptCoop(replys),\n          children: [\"\\uC694\\uAD6C\\uC9C0\\uBD84: \", replys.tokn, \"%  \\uC0C1\\uD0DC: \\uC218\\uB77D\\uB300\\uAE30\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 38\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"replState\",\n          children: [\"\\uC694\\uAD6C\\uC9C0\\uBD84: \", replys.tokn, \"%  \\uC0C1\\uD0DC: \\uD611\\uB825\\uC911\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 131\n        }, this), replys.filename === null ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"\\uC81C\\uC548\\uBB38\\uC11C \\uC5C6\\uC74C\"\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"replState\",\n          onClick: () => openInNewTab(replys.filename),\n          children: \"\\uC81C\\uC548\\uBB38\\uC11C \\uC5F4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 52\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(CooperInput, {\n      showFlag: flag,\n      account: account,\n      cont: content,\n      owner: writer,\n      onClose: () => setFlag(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CoopAccept, {\n      showFlag: flag2,\n      teamId: content.id,\n      replInfo: repl,\n      onClose: () => setFlag2(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Cooperate, \"eKI/s3jCfYcxhXQHDIWWa0U35fw=\");\n\n_c = Cooperate;\n\nconst docuLink = _title => {\n  let downlink = 'http://giparang.asuscomm.com:3039/downloadfile/'; //let downlink = 'localhost:3039/downloadfile/';\n\n  const result = window.confirm('파일이 다운로드 됩니다');\n\n  if (result) {\n    downlink += _title;\n    return [true, downlink];\n  } else {\n    alert('다운로드가 취소됨.');\n    return [false, ''];\n  }\n};\n\nexport default _c2 = withRouter(IdeaDetails);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Cooperate\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useEffect","useState","withRouter","ViewFile","AuctionInput","CooperInput","CoopAccept","getIdeaOwner","getPlayers","putAddGood","getIdeaOne","getRemainTime","postTeamReply","getReply","useRoutes","IdeaDetails","Component","constructor","props","componentWillUnmount","clearTimeout","timer","componentDidMount","getContents","setTimeout","setState","slide","teamId","parseInt","router","params","teamid","then","content","contents","getPlayer","id","_ideaid","data","owner","ptcpsNum","length","viewBranch","ideaType","type","state","uid","showFlag","modalClose","title","document","removeEventListener","remain","sessionStorage","getItem","render","textAlign","margin","width","description","GoodAndPush","goodBtn","record","writer","userId","account","alert","color","marginLeft","marginBottom","good","InputReply","reply","len","push","replyContent","replyWirter","upReButton","location","result","copyReplys","copyReplyWriters","onReplChange","evt","target","value","map","replys","index","fontSize","InfoBlock","clearInterval","days","setInterval","remainTime","hours","minutes","seconds","ideaStatus","ptcpNum","ideaToken","openAuctionIntput","Cooperate","flag","setFlag","flag2","setFlag2","advices","setAdvices","repl","setRepl","filename","acceptNum","setAccept","waiteNum","setWaite","fori","accept","openInNewTab","_title","file","newWindow","window","open","opener","acceptCoop","_repl","recruit","tokn","docuLink","downlink","confirm"],"sources":["/home/giparang/threadweb/sinsekai/client/src/pages/ideaPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { withRouter } from '../components/withRouteCpnt.js';\nimport { ViewFile } from '../components/fileViewer.js';\nimport { AuctionInput } from '../components/auctionInput.js';\nimport { CooperInput } from '../components/cooperInput.js';\nimport { CoopAccept } from '../components/cooperInput.js';\nimport { \n    getIdeaOwner, getPlayers, putAddGood,\n    getIdeaOne, getRemainTime, postTeamReply, getReply } from '../api';\nimport { useRoutes } from 'react-router-dom';\n\nclass IdeaDetails extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      slide: true,\n      remain: null,\n      uid: sessionStorage.getItem('userid'),\n      owner: null,\n      showFlag: false,\n      ptcpsNum: 0,\n      contents: null,\n      \n    };\n  }\n  componentWillUnmount = () => {\n    clearTimeout(this.timer);\n  }\n  componentDidMount = () => {\n  //console.log(this.props.router);\n  this.getContents();\n    \n    setTimeout(() => {\n      this.setState({slide: false});\n    }, 1300);\n  }\n  getContents = () => {\n    const teamId = parseInt(this.props.router.params.teamid, 10);\n    getIdeaOne(teamId).then(content => {\n      this.setState({contents: content});\n      this.getPlayer(content.id);\n    })\n  }\n  getPlayer = (_ideaid) => {\n    getIdeaOwner(_ideaid).then((data) => {\n      this.setState({owner: data});\n    });\n    getPlayers(_ideaid).then((data => {\n      this.setState({ptcpsNum: data.length});\n    }));\n  }\n\n  viewBranch = () => {\n    const ideaType = parseInt(this.props.router.params.type, 10);\n    if(ideaType == 0){\n      return(\n        <div className='textprerap'>\n          <Cooperate \n            content={this.state.contents}\n            account={this.state.uid}\n            writer={this.state.owner}\n          />\n        </div>\n      )\n    }\n    else if(ideaType == 1){\n      return(\n        <div className='textprerap'>\n          <InfoBlock\n            contents={this.state.contents}\n            account={this.state.uid}\n            ptcpNum={this.state.ptcpsNum}\n            openAuctionIntput={()=>this.setState({showFlag: true})}\n          />\n          <AuctionInput \n            showFlag={this.state.showFlag} account={this.state.uid} \n            cont={this.state.contents} ptcps={this.state.ptcpsNum}\n            onClose={()=>{this.modalClose()}}/>\n        </div>\n      )\n    }\n    else if(ideaType ==2){\n      return(\n        <div className='textprerap'>\n          <GoodAndPush\n            content={this.state.contents}\n            account={this.state.uid}\n            writer={this.state.owner}\n          />\n          <InputReply\n            account={this.state.uid}\n            teamId={this.props.router.params.teamid}\n          />\n        </div>\n      )\n    }\n    else{\n      return(\n      <div className='textprerap'>\n        <ul>\n          <li>아이디어의 실행/구현에 관한 설명</li><br/>\n          <ViewFile\n              title={this.state.contents.title+'d'}\n              teamid={this.state.contents.id}\n              confidence={true}\n            />\n          <p>\n          낙찰을 확정짓지 아니한 상태에서 위 파일의 내용을 도용하거나 타인에게 배포를 금합니다.<br/>\n          해당 파일의 열람사실은 분산원장에 영구히 기록되며 이 기록은 파일의 무단도용/배포시 분쟁해결에 사용될 수 있습니다.</p>\n        </ul>\n      </div>\n      )\n    }\n    \n  }\n  modalClose = () => {\n    this.setState({showFlag: false});\n    document.removeEventListener('click',this.modalClose);\n  }\n  // modalOpen = () => {\n  //   this.setState({showFlag: true});\n  // }\n\n  render(){\n    return(\n      <div><p style={{textAlign: 'left', margin:'0px'}}>{this.state.uid}</p>\n      <section className=\"App-header\">\n        {this.state.slide ? <p>최고의 아이디어 공유 플랫폼 /Threads <br/>문서 로드 중...</p>\n        :<>\n          <ul className='textprerap'>\n            <li>제목</li>\n            <p>{this.state.contents.title}</p>\n            <li>아이디어 설명</li><p style={{width:'650px'}}>{this.state.contents.description}</p>\n            <ViewFile\n              title={this.state.contents.title}\n              teamid={this.state.contents.id}\n              confidence={false}\n            />\n          </ul>\n          <this.viewBranch></this.viewBranch>\n        </>\n        }\n      </section></div>\n    )\n  }\n}\nclass GoodAndPush extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      showFlag: false,\n      content: this.props.content,\n      writer: this.props.writer,\n      account: this.props.account,\n    };\n  }\n  goodBtn = async() => {\n    const record = {\n      owner: this.state.writer,\n      teamId: this.state.content.id,\n      userId: this.state.account,\n    }\n    await putAddGood(record).then((data) => {\n      if(data)\n        alert('이미 좋아요를 누르셨습니다');\n      else\n        alert('추천이 반영되었습니다');\n    });\n  }\n  render(){\n    return(<section className='fixposition'>\n      <p style={{color: 'black', marginLeft: '1em', marginBottom: '0px'}}>추천수: {this.state.content.good}</p>\n      <button onClick={this.goodBtn}><span role=\"img\" aria-label=\"good\">👍</span>좋아요</button>\n    </section>)\n  }\n}\nclass InputReply extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      replyWirter: [],\n      replyContent: [],\n      content: null,\n      teamId: this.props.teamId,\n      account: this.props.account,\n    };\n  }\n  componentDidMount = async() => {\n    const reply = await getReply(this.state.teamId);\n    let len = reply.length;\n    let content = [];\n    let writer = [];\n    \n    while(len){\n      content.push(reply[len-1].description);\n      writer.push(reply[len-1].account);\n      len-=1;\n    }\n    //console.log(content);\n    this.setState({replyContent: content});\n    this.setState({replyWirter: writer});\n  }\n  upReButton = () => {\n    if(this.state.account !== null){\n      const record = {\n        content: this.state.content,\n        location: this.state.teamId,\n        account: this.state.account,\n      }\n      postTeamReply(record).then(result => {\n        if(result){\n          let copyReplys = [...this.state.replyContent];\n          let copyReplyWriters = [...this.state.replyWirter];\n          copyReplys.push(this.state.content);\n          copyReplyWriters.push(this.state.account);\n          this.setState({replyContent: copyReplys});\n          this.setState({replyWirter: copyReplyWriters});\n        }\n        else\n          alert('err 83201');\n      })\n    }\n    else\n      alert('로그인 후 이용해주세요');\n  }\n  onReplChange = (evt) => {\n    this.setState({content: evt.target.value});\n  }\n  render(){\n    return(<>\n      <p>댓글 목록.</p>\n      <ul>\n        {this.state.replyContent.map((replys, index) => (\n          <li key={index} style={{margin:'24px'}}>\n            <p style={{fontSize:'17px', margin:'auto', color:'#999'}}>{this.state.replyWirter[index]}님의 댓글</p>\n            {this.state.replyContent[index]}\n          </li>\n        ))}\n      </ul>\n      <textarea name=\"docudesc\" rows='3' cols='60' placeholder=\"댓글 입력\" onChange={this.onReplChange}/>\n      <button onClick={this.upReButton}>댓글달기</button>\n    </>)\n  }\n}\n\nclass InfoBlock extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      remainTime: {days: 0, hours: 0, minutes: 0, seconds: 0},\n      showFlag: false,\n      ideaStatus: null,\n      ptcpsNum: this.props.ptcpNum,\n      contents: this.props.contents\n    };\n  }\n  \n  componentWillUnmount = () => {\n    clearInterval(this.timer);\n  }\n  componentDidMount = () => {\n    if(this.state.contents.days!==null){\n      this.timer = setInterval(() => {\n        getRemainTime(this.state.contents.id).then(result => {\n          this.setState({remainTime: result});\n        })\n      }, 1000);\n    }\n  }\n  \n  render(){\n    return(<>\n      <ul>\n        <li style={{margin: 'inherit'}}>아이디어 경매정보</li>\n        <p style={{margin: 0}}>경매 참여자 수: {this.state.ptcpsNum}</p>\n        <p style={{margin: 0}}>현재 호가 또는 시작가: {this.state.contents.ideaToken} points</p>\n        {this.state.ptcpsNum>0 ? <p style={{margin: 0}}> 남은 경매 시간: {this.state.remainTime.days}일 {this.state.remainTime.hours}시간 {this.state.remainTime.minutes}분 {this.state.remainTime.seconds}초</p>:<></>}\n        <button onClick={this.props.openAuctionIntput} className=\"button02\">이 아이디어의 경매에 참여하기</button>\n      </ul>\n    </>)\n  }\n}\nconst Cooperate = ({content, account, writer}) => {\n  const [flag , setFlag] = useState(false);\n  const [flag2 , setFlag2] = useState(false);\n  const [advices, setAdvices] = useState([]);\n  const [repl, setRepl] = useState({filename:'', account:'', id:null});\n  const [acceptNum , setAccept] = useState(0);\n  const [waiteNum , setWaite] = useState(0);\n\n  useEffect(()=>{\n    let acceptNum = 0;\n    let waiteNum = 0;\n    getReply(content.id).then(result => {\n      for(let fori=0; fori < result.length; ++fori){\n        if(result[fori].accept)\n          ++acceptNum;\n        else\n          ++waiteNum;\n      }\n      setAccept(acceptNum);\n      setWaite(waiteNum);\n      setAdvices(result);\n    })\n  },[]);\n\n  const openInNewTab = (_title) => {\n    const file = `https://giparang.asuscomm.com:3039/viewdocx/${_title}`;\n    const newWindow = window.open(file, '_blank', 'noopener,noreferrer');\n      if (newWindow) newWindow.opener = null;\n  }\n  const acceptCoop = (_repl) => {\n    if(account === writer){\n      setRepl({filename: _repl.filename, account: _repl.account, id:_repl.id});\n      //setAdvWriter(_repl.account);\n      setFlag2(true);\n      //console.log(_repl);\n    }\n    else alert('이 아이디어의 작성자만 협력 제안을 수락할 수 있습니다');\n  }\n  return(\n    <>\n      <ul>\n        <li style={{margin: 'inherit'}}>협력 요구사항 / 참여상황</li>\n        {content.recruit}<br/><br/>\n        <p style={{margin: 0}}>참여자 수: {acceptNum}</p>\n        <p style={{margin: 0}}>대기자 수: {waiteNum}</p>\n        <br/>\n        <button className='button02' onClick={()=>setFlag(true)}>이 아이디어에 참여하기</button>\n      </ul>\n      {advices.map((replys, index) => (\n        <li key={index}>\n          <p style={{fontSize:'17px', margin:'auto', color:'#577070'}}>{replys.account}님의 제안</p>\n          {replys.description}\n          <section>\n            {replys.accept===false ? <p className='replState' onClick={()=>acceptCoop(replys)}>요구지분: {replys.tokn}%  상태: 수락대기</p>:<p className='replState'>요구지분: {replys.tokn}%  상태: 협력중</p>}\n            {replys.filename===null ? <>제안문서 없음</>:<p className='replState' onClick={()=>openInNewTab(replys.filename)}>제안문서 열기</p>}\n          </section>\n        </li>\n      ))}\n      <CooperInput \n      showFlag={flag} account={account} \n      cont={content} owner={writer}\n      onClose={()=>setFlag(false)}/>\n      <CoopAccept\n        showFlag={flag2}\n        teamId={content.id}\n        replInfo={repl}\n        onClose={()=>setFlag2(false)}/>\n    </>\n  )\n}\n\nconst docuLink = (_title) => {\n  let downlink = 'http://giparang.asuscomm.com:3039/downloadfile/';\n  //let downlink = 'localhost:3039/downloadfile/';\n  const result = window.confirm('파일이 다운로드 됩니다');\n  \n  if(result){\n    downlink += _title;\n    return([true, downlink]);\n  }\n  else{\n    alert('다운로드가 취소됨.');\n    return([false, '']);\n  }\n}\nexport default withRouter(IdeaDetails);"],"mappings":"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"},"metadata":{},"sourceType":"module"}