{"ast":null,"code":"var _jsxFileName = \"/home/giparang/threadweb/sinsekai/client/src/pages/ideaPage.js\";\nimport React from 'react';\nimport { AuctionInput } from '../components/auctionInput.js';\nimport { withRouter } from '../components/withRouteCpnt.js';\nimport { ViewFile } from '../components/fileViewer.js';\nimport { PushInput } from '../components/apushInput.js';\nimport { registChecker } from '../components/registCatch.js';\nimport { getIdeaPlayers, getPlayers, addGood, getIdeaOne, getRemainTime, postTeamReply, getReply, getIdeaPoints } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass IdeaDetails extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentWillUnmount = () => {\n      clearTimeout(this.timer);\n    };\n\n    this.componentDidMount = () => {\n      //console.log(this.props.router);\n      this.getContents();\n      setTimeout(() => {\n        this.setState({\n          slide: false\n        });\n      }, 1300);\n    };\n\n    this.getContents = async () => {\n      //this.setState({uid: await registChecker(account)});\n      const teamId = parseInt(this.props.router.params.teamid, 10);\n      const contents = await getIdeaOne(teamId);\n      this.setState({\n        contents: contents\n      });\n      const pushedToken = await getIdeaPoints(contents.id);\n      this.setState({\n        pushedToken: pushedToken\n      });\n      this.getPlayer();\n    };\n\n    this.getRemainOnServer = async () => {\n      const expired = await getRemainTime(this.state.contents.id);\n      if (expired !== 'not set') this.setState({\n        remain: expired\n      }); // if(expired !== undefined)\n      //     this.getRemain();\n    };\n\n    this.getRemain = () => {\n      let expired = this.state.remain;\n      this.timer = setTimeout(() => {\n        expired -= 1000;\n        this.setState({\n          remain: expired\n        });\n      }, 1000);\n    };\n\n    this.getPlayer = async () => {\n      let ideaid = this.state.contents.id;\n      await getIdeaPlayers(ideaid).then(data => {\n        let copyEditors = [...this.state.editors];\n\n        for (let iter = 0; iter < data.length; ++iter) {\n          //console.log(data[iter].playerId);\n          this.innerSync(data[iter].playerId, copyEditors);\n        }\n      });\n    };\n\n    this.innerSync = async (_playerId, _copyEditors) => {\n      const p = await getPlayers(_playerId);\n\n      _copyEditors.push(p.sub);\n\n      this.setState({\n        editors: _copyEditors\n      }); //console.log('e: ',this.state.editors);\n    };\n\n    this.docuDown = async () => {\n      const fileCheck = await getIdeaOne(this.state.contents.id);\n\n      if (fileCheck.file) {\n        const result = docuLink(this.state.contents.title);\n\n        if (result[0]) {\n          window.open(result[1]);\n        }\n      } else alert('file does not exist');\n    };\n\n    this.viewBranch = () => {\n      const ideaType = parseInt(this.props.router.params.type, 10);\n      let ownerCheck = false;\n\n      if (this.state.account === this.state.editors[0]) {\n        ownerCheck = true;\n      }\n\n      if (this.state.editors.length > 1 && ideaType === 1) {\n        console.log('log1');\n        this.getRemain();\n      }\n\n      if (ideaType == 0) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textprerap\",\n          children: [/*#__PURE__*/_jsxDEV(GoodAndPush, {\n            uid: this.state.uid,\n            content: this.state.contents,\n            account: this.state.account,\n            writer: this.state.editors[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              borderBottom: '1px solid rgb(90, 90, 90)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                margin: 'inherit'\n              },\n              children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uC0C1\\uD0DC\\uC815\\uBCF4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: [\"\\uD604\\uC7AC \\uD6C4\\uC6D0\\uC790 \\uC218: \", this.state.editors.length - 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: [\"\\uD6C4\\uC6D0 \\uD1A0\\uD070 \\uAC2F\\uC218: \", this.state.pushedToken, \" token\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: [\"\\uBAA9\\uD45C \\uD1A0\\uD070 \\uAC2F\\uC218: \", this.state.contents.ideaToken, \" token\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.autionButon,\n              className: \"button02\",\n              children: \"test\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(InputReply, {\n            account: this.state.account,\n            teamId: this.props.router.params.teamid\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this);\n      } else if (ideaType == 1) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textprerap\",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                margin: 'inherit'\n              },\n              children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uACBD\\uB9E4\\uC815\\uBCF4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: [\"\\uACBD\\uB9E4 \\uCC38\\uC5EC\\uC790 \\uC218: \", this.state.editors.length - 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: [\"\\uD604\\uC7AC \\uD638\\uAC00 \\uB610\\uB294 \\uC2DC\\uC791\\uAC00: \", this.state.contents.ideaToken, \" token\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: [\" \\uB0A8\\uC740 \\uACBD\\uB9E4 \\uC2DC\\uAC04: \", this.state.remain]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.autionButon,\n              className: \"button02\",\n              children: \"\\uC774 \\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uACBD\\uB9E4\\uC5D0 \\uCC38\\uC5EC\\uD558\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(AuctionInput, {\n            showFlag: this.state.showFlag,\n            account: this.state.account,\n            cont: this.state.contents,\n            ptcps: this.state.editors,\n            onClose: () => {\n              this.modalClose();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textprerap\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uC778\\uC218\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uB2F9\\uC2E0\\uC740 \\uC774 \\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uC778\\uC218\\uAD8C\\uC790\\uC785\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uC0C1\\uC138\\uD30C\\uC77C\\uC5F4\\uB78C\\uACFC \\uAD00\\uB828\\uD30C\\uC77C \\uC694\\uCCAD\\uC744 \\uD558\\uAE30 \\uC704\\uD574\\uC11C \\uC6B0\\uC120 \\uC5D0\\uC2A4\\uD06C\\uB85C\\uC5D0 \\uB099\\uCC30\\uAC00\\uB9CC\\uD07C\\uC758 \\uD1A0\\uD070\\uC744 \\uC774\\uCCB4\\uC2DC\\uCF1C\\uC57C \\uD569\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uB2F9\\uC2E0\\uC740 \\uC0C1\\uC138\\uC124\\uBA85\\uD30C\\uC77C\\uC5D0 \\uAE30\\uC7AC\\uB41C \\uB0B4\\uC6A9\\uC774 \\uC778\\uC218\\uC5D0 \\uBD80\\uC871\\uD558\\uB2E4\\uACE0 \\uC0DD\\uAC01\\uD560 \\uACBD\\uC6B0 \\uCD94\\uAC00\\uC815\\uBCF4\\uB97C \\uC694\\uCCAD\\uD558\\uAC70\\uB098 \\uAC70\\uB798\\uB97C \\uD3EC\\uAE30\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uB2F9\\uC2E0\\uC774 \\uC5F4\\uB78C\\uD558\\uB294 \\uBAA8\\uB4E0 \\uD30C\\uC77C\\uC740 \\uC5F4\\uB78C\\uC0AC\\uC2E4\\uC774 \\uBE14\\uB85D\\uCCB4\\uC778\\uC0C1\\uC5D0 \\uAE30\\uB85D\\uB429\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uC778\\uC218\\uB97C \\uD3EC\\uAE30\\uD560 \\uC2DC \\uC5D0\\uC2A4\\uD06C\\uB85C\\uC5D0 \\uC774\\uCCB4\\uD55C \\uD1A0\\uD070\\uC758 80%\\uB9CC \\uBC18\\uD658\\uD569\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button03\",\n              children: \"\\uC774 \\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uC0C1\\uC138\\uD30C\\uC77C \\uBCF4\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 7\n        }, this);\n      }\n    };\n\n    this.autionButon = () => {\n      this.setState({\n        showFlag: true\n      });\n    };\n\n    this.modalClose = () => {\n      this.setState({\n        showFlag: false\n      });\n      document.removeEventListener('click', this.modalClose);\n    };\n\n    this.state = {\n      slide: true,\n      remain: null,\n      uid: null,\n      pushedToken: null,\n      showFlag: false,\n      editors: [],\n      contents: null\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"App-header\",\n      children: this.state.slide ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uCD5C\\uACE0\\uC758 \\uC544\\uC774\\uB514\\uC5B4 \\uACF5\\uC720 \\uD50C\\uB7AB\\uD3FC /Threads \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 57\n        }, this), \"\\uBB38\\uC11C \\uB85C\\uB4DC \\uC911...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"textprerap\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\uC81C\\uBAA9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.contents.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uC124\\uBA85\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.contents.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ViewFile, {\n            title: this.state.contents.title,\n            teamid: this.state.contents.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(this.viewBranch, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass GoodAndPush extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.goodBtn = async () => {\n      const record = {\n        owner: this.state.writer,\n        teamid: this.state.content.id,\n        useraddr: this.state.account\n      };\n      await addGood(record).then(data => {\n        console.log(data);\n        if (data === 'exist') alert('이미 좋아요를 누르셨습니다');else if (data === 'owner') alert('자신의 글에 좋아요를 줄 수 없습니다');else alert('좋아요를 주셨습니다!');\n      });\n    };\n\n    this.pushBtn = () => {\n      this.setState({\n        showFlag: true\n      });\n    };\n\n    this.modalClose = () => {\n      this.setState({\n        showFlag: false\n      });\n      document.removeEventListener('click', this.modalClose);\n    };\n\n    this.state = {\n      showFlag: false,\n      uid: this.props.uid,\n      content: this.props.content,\n      writer: this.props.writer,\n      account: this.props.account\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"fixposition\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'black',\n          marginLeft: '1em',\n          marginBottom: '0px'\n        },\n        children: [\"\\uCD94\\uCC9C\\uC218: \", this.state.content.good]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.goodBtn,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"good\",\n          children: \"\\uD83D\\uDC4D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 38\n        }, this), \"\\uC88B\\uC544\\uC694\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.pushBtn,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"heart\",\n          children: \"\\uD83D\\uDC96\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 38\n        }, this), \"\\uD6C4\\uC6D0\\uD558\\uAE30\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(PushInput, {\n        showFlag: this.state.showFlag,\n        account: this.state.account,\n        cont: this.state.content,\n        onClose: () => {\n          this.modalClose();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nclass InputReply extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      const reply = await getReply(this.state.teamId);\n      let len = reply.length;\n      let content = [];\n      let writer = [];\n\n      while (len) {\n        content.push(reply[len - 1].description);\n        writer.push(reply[len - 1].account);\n        len -= 1;\n      } //console.log(content);\n\n\n      this.setState({\n        replyContent: content\n      });\n      this.setState({\n        replyWirter: writer\n      });\n    };\n\n    this.upReButton = async () => {\n      const record = {\n        content: this.state.content,\n        location: this.state.teamId,\n        account: this.state.account\n      };\n      await postTeamReply(record);\n    };\n\n    this.onReplChange = evt => {\n      this.setState({\n        content: evt.target.value\n      });\n    };\n\n    this.state = {\n      replyWirter: [],\n      replyContent: [],\n      content: null,\n      teamId: this.props.teamId,\n      account: this.props.account\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uB313\\uAE00 \\uBAA9\\uB85D.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: this.state.replyContent.map((replys, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            margin: '24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '17px',\n              margin: 'auto',\n              color: '#999'\n            },\n            children: [this.state.replyWirter[index], \"\\uB2D8\\uC758 \\uB313\\uAE00\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), this.state.replyContent[index]]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"docudesc\",\n        rows: \"3\",\n        cols: \"60\",\n        placeholder: \"\\uB313\\uAE00 \\uC785\\uB825\",\n        onChange: this.onReplChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.upReButton,\n        children: \"reply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nconst docuLink = _title => {\n  let downlink = 'http://giparang.asuscomm.com:3039/downloadfile/'; //let downlink = 'localhost:3039/downloadfile/';\n\n  const result = window.confirm('파일이 다운로드 됩니다');\n\n  if (result) {\n    downlink += _title;\n    return [true, downlink];\n  } else {\n    alert('다운로드가 취소됨.');\n    return [false, ''];\n  }\n};\n\nexport default _c = withRouter(IdeaDetails);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","AuctionInput","withRouter","ViewFile","PushInput","registChecker","getIdeaPlayers","getPlayers","addGood","getIdeaOne","getRemainTime","postTeamReply","getReply","getIdeaPoints","IdeaDetails","Component","constructor","props","componentWillUnmount","clearTimeout","timer","componentDidMount","getContents","setTimeout","setState","slide","teamId","parseInt","router","params","teamid","contents","pushedToken","id","getPlayer","getRemainOnServer","expired","state","remain","getRemain","ideaid","then","data","copyEditors","editors","iter","length","innerSync","playerId","_playerId","_copyEditors","p","push","sub","docuDown","fileCheck","file","result","docuLink","title","window","open","alert","viewBranch","ideaType","type","ownerCheck","account","console","log","uid","borderBottom","margin","ideaToken","autionButon","showFlag","modalClose","document","removeEventListener","render","description","GoodAndPush","goodBtn","record","owner","writer","content","useraddr","pushBtn","color","marginLeft","marginBottom","good","InputReply","reply","len","replyContent","replyWirter","upReButton","location","onReplChange","evt","target","value","map","replys","index","fontSize","_title","downlink","confirm"],"sources":["/home/giparang/threadweb/sinsekai/client/src/pages/ideaPage.js"],"sourcesContent":["import React from 'react';\nimport { AuctionInput } from '../components/auctionInput.js';\nimport { withRouter } from '../components/withRouteCpnt.js';\nimport { ViewFile } from '../components/fileViewer.js';\nimport { PushInput } from '../components/apushInput.js';\nimport { registChecker } from '../components/registCatch.js';\nimport { \n    getIdeaPlayers, getPlayers, addGood,\n    getIdeaOne, getRemainTime, postTeamReply, getReply, getIdeaPoints } from '../api';\n\nclass IdeaDetails extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      slide: true,\n      remain: null,\n      uid: null,\n      pushedToken: null,\n      showFlag: false,\n      editors: [],\n      contents: null,\n    };\n  }\n  componentWillUnmount = () => {\n    clearTimeout(this.timer);\n  }\n  componentDidMount = () => {\n  //console.log(this.props.router);\n  this.getContents();\n    \n    setTimeout(() => {\n      this.setState({slide: false});\n    }, 1300);\n  }\n  getContents = async() => {\n    //this.setState({uid: await registChecker(account)});\n    const teamId = parseInt(this.props.router.params.teamid, 10);\n    const contents = await getIdeaOne(teamId);\n    this.setState({contents: contents});\n    const pushedToken = await getIdeaPoints(contents.id);\n    this.setState({pushedToken: pushedToken});\n    this.getPlayer();\n  }\n  getRemainOnServer = async() => {\n    const expired = await getRemainTime(this.state.contents.id);\n    if(expired !== 'not set')\n        this.setState({remain: expired});\n    // if(expired !== undefined)\n    //     this.getRemain();\n  }\n  getRemain = () => {\n    let expired = this.state.remain;\n    this.timer = setTimeout(() => {\n      expired -= 1000;\n      this.setState({remain: expired});\n    }, 1000);\n  }\n  getPlayer = async() => {\n    let ideaid = this.state.contents.id;\n    await getIdeaPlayers(ideaid).then((data) => {\n      let copyEditors = [...this.state.editors];\n      for(let iter = 0; iter < data.length; ++iter){\n        //console.log(data[iter].playerId);\n        this.innerSync(data[iter].playerId, copyEditors);\n      }\n    });\n  }\n        innerSync = async(_playerId, _copyEditors) => {\n          const p = await getPlayers(_playerId);\n          _copyEditors.push(p.sub);\n          this.setState({editors: _copyEditors});\n          //console.log('e: ',this.state.editors);\n        }\n\n  docuDown = async() => {\n    const fileCheck = await getIdeaOne(this.state.contents.id);\n    if(fileCheck.file){\n      const result = docuLink(this.state.contents.title);\n      if(result[0]){\n        window.open(result[1]);\n      }\n    } \n    else\n      alert('file does not exist');\n  }\n\n  viewBranch = () => {\n    const ideaType = parseInt(this.props.router.params.type, 10);\n    let ownerCheck = false;\n    if(this.state.account === this.state.editors[0]){\n      ownerCheck = true;\n    }\n    if(this.state.editors.length > 1 && ideaType === 1){\n      console.log('log1');\n      this.getRemain();\n    }\n    if(ideaType == 0){\n      return(\n        <div className='textprerap'>\n          <GoodAndPush\n            uid={this.state.uid}\n            content={this.state.contents}\n            account={this.state.account}\n            writer={this.state.editors[0]}\n          />\n          <ul style={{borderBottom: '1px solid rgb(90, 90, 90)'}}>\n            <li style={{margin: 'inherit'}}>아이디어 상태정보</li>\n            <p style={{margin: 0}}>현재 후원자 수: {this.state.editors.length - 1}</p>\n            <p style={{margin: 0}}>후원 토큰 갯수: {this.state.pushedToken} token</p>\n            <p style={{margin: 0}}>목표 토큰 갯수: {this.state.contents.ideaToken} token</p>\n            <button onClick={this.autionButon} className=\"button02\">test</button>\n          </ul>\n          <InputReply\n            account={this.state.account}\n            teamId={this.props.router.params.teamid}\n          />\n        </div>\n      )\n    }\n    else if(ideaType == 1){\n      return(\n        <div className='textprerap'>\n          <ul>\n            <li style={{margin: 'inherit'}}>아이디어 경매정보</li>\n            <p style={{margin: 0}}>경매 참여자 수: {this.state.editors.length - 1}</p>\n            <p style={{margin: 0}}>현재 호가 또는 시작가: {this.state.contents.ideaToken} token</p>\n            <p style={{margin: 0}}> 남은 경매 시간: {this.state.remain}</p>\n            <button onClick={this.autionButon} className=\"button02\">이 아이디어의 경매에 참여하기</button>\n          </ul>\n          <AuctionInput \n            showFlag={this.state.showFlag} account={this.state.account} \n            cont={this.state.contents} ptcps={this.state.editors}\n            onClose={()=>{this.modalClose()}}/>\n        </div>\n      )\n    }\n    else{\n      return(\n      <div className='textprerap'>\n        <ul>\n          <li>아이디어 인수</li>\n          <ol>\n            <li>당신은 이 아이디어의 인수권자입니다.</li>\n            <li>상세파일열람과 관련파일 요청을 하기 위해서 우선 에스크로에 낙찰가만큼의 토큰을 이체시켜야 합니다.</li>\n            <li>당신은 상세설명파일에 기재된 내용이 인수에 부족하다고 생각할 경우 추가정보를 요청하거나 거래를 포기할 수 있습니다.</li>\n            <li>당신이 열람하는 모든 파일은 열람사실이 블록체인상에 기록됩니다.</li>\n            <li>아이디어 인수를 포기할 시 에스크로에 이체한 토큰의 80%만 반환합니다.</li>\n          </ol>\n          <button className=\"button03\">이 아이디어의 상세파일 보기</button>\n        </ul>\n      </div>\n      )\n    }\n    \n  }\n  autionButon = () => {\n    this.setState({showFlag: true});\n  }\n  modalClose = () => {\n    this.setState({showFlag: false});\n    document.removeEventListener('click',this.modalClose);\n  }\n\n  render(){\n    return(\n      <section className=\"App-header\">\n        {this.state.slide ? <p>최고의 아이디어 공유 플랫폼 /Threads <br/>문서 로드 중...</p>\n        :<>\n          {/* <this.leadPtct></this.leadPtct> */}\n          <ul className='textprerap'>\n            <li>제목</li>\n            <p>{this.state.contents.title}</p>\n            <li>아이디어 설명</li><p>{this.state.contents.description}</p>\n            <ViewFile\n            title={this.state.contents.title}\n            teamid={this.state.contents.id}\n            />\n          </ul>\n          <this.viewBranch></this.viewBranch>\n          \n        </>\n        }\n      </section>\n    )\n  }\n}\nclass GoodAndPush extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      showFlag: false,\n      uid: this.props.uid,\n      content: this.props.content,\n      writer: this.props.writer,\n      account: this.props.account,\n    };\n  }\n  goodBtn = async() => {\n    const record = {\n      owner: this.state.writer,\n      teamid: this.state.content.id,\n      useraddr: this.state.account,\n    }\n    await addGood(record).then((data) => {\n      console.log(data);\n      if(data === 'exist')\n        alert('이미 좋아요를 누르셨습니다');\n      else if(data === 'owner')\n        alert('자신의 글에 좋아요를 줄 수 없습니다');\n      else\n        alert('좋아요를 주셨습니다!');\n    });\n  }\n  pushBtn = () => {\n    this.setState({showFlag: true});\n  }\n  modalClose = () => {\n    this.setState({showFlag: false});\n    document.removeEventListener('click',this.modalClose);\n  }\n  render(){\n    return(<section className='fixposition'>\n      <p style={{color: 'black', marginLeft: '1em', marginBottom: '0px'}}>추천수: {this.state.content.good}</p>\n      <button onClick={this.goodBtn}><span role=\"img\" aria-label=\"good\">👍</span>좋아요</button>\n      <button onClick={this.pushBtn}><span role=\"img\" aria-label=\"heart\">💖</span>후원하기</button>\n      <PushInput\n        showFlag={this.state.showFlag} account={this.state.account} \n        cont={this.state.content}\n        onClose={()=>{this.modalClose()}}/>\n    </section>)\n  }\n}\nclass InputReply extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      replyWirter: [],\n      replyContent: [],\n      content: null,\n      teamId: this.props.teamId,\n      account: this.props.account,\n    };\n  }\n  componentDidMount = async() => {\n    const reply = await getReply(this.state.teamId);\n    let len = reply.length;\n    let content = [];\n    let writer = [];\n    \n    while(len){\n      content.push(reply[len-1].description);\n      writer.push(reply[len-1].account);\n      len-=1;\n    }\n    //console.log(content);\n    this.setState({replyContent: content});\n    this.setState({replyWirter: writer});\n  }\n  upReButton = async() => {\n    const record = {\n      content: this.state.content,\n      location: this.state.teamId,\n      account: this.state.account,\n    }\n    await postTeamReply(record);\n  }\n  onReplChange = (evt) => {\n    this.setState({content: evt.target.value});\n  }\n  render(){\n    return(<>\n      <p>댓글 목록.</p>\n      <ul>\n        {this.state.replyContent.map((replys, index) => (\n          <li key={index} style={{margin:'24px'}}>\n            <p style={{fontSize:'17px', margin:'auto', color:'#999'}}>{this.state.replyWirter[index]}님의 댓글</p>\n            {this.state.replyContent[index]}\n          </li>\n        ))}\n      </ul>\n      <textarea name=\"docudesc\" rows='3' cols='60' placeholder=\"댓글 입력\" onChange={this.onReplChange}/>\n      <button onClick={this.upReButton}>reply</button>\n    </>)\n  }\n}\n\nconst docuLink = (_title) => {\n  let downlink = 'http://giparang.asuscomm.com:3039/downloadfile/';\n  //let downlink = 'localhost:3039/downloadfile/';\n  const result = window.confirm('파일이 다운로드 됩니다');\n  \n  if(result){\n    downlink += _title;\n    return([true, downlink]);\n  }\n  else{\n    alert('다운로드가 취소됨.');\n    return([false, '']);\n  }\n}\nexport default withRouter(IdeaDetails);"],"mappings":"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"},"metadata":{},"sourceType":"module"}