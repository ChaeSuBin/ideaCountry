{"ast":null,"code":"import _slicedToArray from\"/home/giparang/threadweb/sinsekai/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{postHold,getPlayersId,putBidIdea}from\"../api.js\";import{registChecker}from\"./registCatch.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AuctionInput=function AuctionInput(_ref){var showFlag=_ref.showFlag,account=_ref.account,onClose=_ref.onClose,cont=_ref.cont,ptcps=_ref.ptcps;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),recognize=_useState2[0],setRecog=_useState2[1];var getNow=function getNow(){var genzai=Date.now();console.log(genzai);};var recogBtn=function recogBtn(){setRecog(true);};return/*#__PURE__*/_jsx(_Fragment,{children:showFlag?/*#__PURE__*/ // showFlagがtrueだったらModalを表示する\n_jsx(\"div\",{id:\"overlay\",className:\"overlay\",children:/*#__PURE__*/_jsx(\"div\",{id:\"modalcontents\",className:\"modalcontents\",children:/*#__PURE__*/_jsx(\"div\",{children:recognize?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uC785\\uCC30\"}),/*#__PURE__*/_jsx(InputForm,{useraddr:account,contents:cont,ptcps:ptcps}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"close\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"ol\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uAC00\\uC7A5 \\uB192\\uC740 \\uD638\\uAC00\\uB97C \\uBD80\\uB978 \\uCC38\\uC5EC\\uC790\\uB294 \\uC785\\uCC30\\uAE30\\uAC04 \\uC885\\uB8CC\\uD6C4 \\uD638\\uAC00\\uB9CC\\uD07C\\uC758 \\uD3EC\\uC778\\uD2B8\\uB97C \\uC5D0\\uC2A4\\uD06C\\uB85C\\uC5D0 \\uC774\\uCCB4\\uC2DC\\uCF1C\\uC57C \\uD569\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC774\\uCCB4\\uAC00 \\uC644\\uB8CC\\uB418\\uBA74 \\uD574\\uB2F9 \\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uAD6C\\uD604, \\uC6D0\\uB9AC\\uB4F1 \\uC790\\uC138\\uD55C \\uB0B4\\uC6A9\\uC774 \\uB2F4\\uAE34 \\uC0C1\\uC138\\uD30C\\uC77C\\uC744 \\uC5F4\\uB78C\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC0C1\\uC138\\uD30C\\uC77C\\uC758 \\uC5F4\\uB78C\\uC0AC\\uC2E4\\uC740 \\uBD84\\uC0B0\\uC6D0\\uC7A5\\uC5D0 \\uC601\\uAD6C\\uD788 \\uAE30\\uB85D\\uB418\\uBA70 \\uD30C\\uC77C \\uB0B4\\uC6A9\\uC758 \\uBB34\\uB2E8\\uBC30\\uD3EC/\\uB3C4\\uC6A9\\uB4F1\\uC758 \\uBD84\\uC7C1\\uBC1C\\uC0DD\\uC2DC \\uD574\\uACB0\\uC744 \\uC704\\uD55C \\uAE30\\uB85D\\uC73C\\uB85C \\uC0AC\\uC6A9\\uB420 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC0C1\\uC138\\uD30C\\uC77C\\uC5D0 \\uAE30\\uC7AC\\uB41C \\uB0B4\\uC6A9\\uC774 \\uBD80\\uC2E4\\uD558\\uB2E4\\uACE0 \\uC0DD\\uAC01\\uB420 \\uACBD\\uC6B0 \\uAC70\\uB798\\uB97C \\uD3EC\\uAE30\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:recogBtn,children:\"\\uC704 \\uC0AC\\uD56D\\uC744 \\uC219\\uC9C0\\uD558\\uC600\\uC2B5\\uB2C8\\uB2E4.\"})]})})})}):/*#__PURE__*/_jsx(_Fragment,{})// showFlagがfalseの場合はModalは表示しない)\n});};function InputForm(_ref2){var useraddr=_ref2.useraddr,contents=_ref2.contents,ptcps=_ref2.ptcps;var _useState3=useState(contents.ideaToken),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),playerId=_useState6[0],setId=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),call=_useState8[0],setCall=_useState8[1];var name=contents.title;useEffect(function(){regiCheck();},[]);var regiCheck=function regiCheck(){setId(registChecker(useraddr));};var sendBtn=function sendBtn(){if(call>price)ptcpInAuction();else alert('입찰할 토큰 수량은 '+price+'보다 커야합니다.');};var ptcpInAuction=function ptcpInAuction(){var firstPtcp=true;if(ptcps>0)firstPtcp=false;var result=putBidIdea({//result = false or true\nteamId:contents.id,userId:useraddr,bidtoken:call,first:firstPtcp}).then(function(success){if(success)alert('입찰 되었습니다');else console.log('err 334');});};return/*#__PURE__*/_jsxs(_Fragment,{children:[\"\\uC544\\uC774\\uB514\\uC5B4 \\uC774\\uB984: \",name,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontSize:\"18px\"},children:[\"\\uD604\\uC7AC \\uD638\\uAC00 \\uB610\\uB294 \\uC2DC\\uC791\\uAC00: \",price]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontSize:\"18px\"},children:[\"\\uACBD\\uB9E4 \\uCC38\\uC5EC\\uC790 \\uC218: \",ptcps]}),/*#__PURE__*/_jsx(\"br\",{}),\"\\uC785\\uCC30\\uD560 \\uD3EC\\uC778\\uD2B8:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:price,max:999999,step:1,onChange:function onChange(evt){return setCall(evt.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"App-exeButton2\",onClick:sendBtn,children:\"send\"})]});}","map":{"version":3,"names":["React","useEffect","useState","postHold","getPlayersId","putBidIdea","registChecker","AuctionInput","showFlag","account","onClose","cont","ptcps","recognize","setRecog","getNow","genzai","Date","now","console","log","recogBtn","InputForm","useraddr","contents","ideaToken","price","setPrice","playerId","setId","call","setCall","name","title","regiCheck","sendBtn","ptcpInAuction","alert","firstPtcp","result","teamId","id","userId","bidtoken","first","then","success","margin","fontSize","evt","target","value"],"sources":["/home/giparang/threadweb/sinsekai/client/src/components/auctionInput.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { postHold, getPlayersId, putBidIdea } from \"../api.js\";\nimport { registChecker } from \"./registCatch.js\";\n\nexport const AuctionInput = ({showFlag, account, onClose, cont, ptcps}) => {\n\n  const [recognize, setRecog] = useState(false);\n\n  const getNow = () => {\n    const genzai = Date.now();\n    console.log(genzai);\n  }\n  const recogBtn = () => {\n    setRecog(true);\n  }\n  return(\n    <>{showFlag ? ( // showFlagがtrueだったらModalを表示する\n    <div id=\"overlay\" className='overlay'>\n      <div id=\"modalcontents\" className=\"modalcontents\">\n        <div>\n          { recognize ? <>\n            <p>입찰</p>\n            <InputForm useraddr={account} contents={cont} ptcps={ptcps}/>\n            <button onClick={onClose}>close</button>\n          </>:<>\n            <ol>\n              <li>가장 높은 호가를 부른 참여자는 입찰기간 종료후 호가만큼의 포인트를 에스크로에 이체시켜야 합니다.</li>\n              <li>이체가 완료되면 해당 아이디어의 구현, 원리등 자세한 내용이 담긴 상세파일을 열람할 수 있습니다.</li>\n              <li>상세파일의 열람사실은 분산원장에 영구히 기록되며 파일 내용의 무단배포/도용등의 분쟁발생시 해결을 위한 기록으로 사용될 수 있습니다.</li>\n              <li>상세파일에 기재된 내용이 부실하다고 생각될 경우 거래를 포기할 수 있습니다.</li>\n            </ol>\n          <button onClick={recogBtn}>위 사항을 숙지하였습니다.</button>\n          </>}\n          \n        </div>\n      </div>\n    </div>\n    ) : (\n      <></>// showFlagがfalseの場合はModalは表示しない)\n    )}\n    </>\n  )\n}\n\nfunction InputForm({useraddr, contents, ptcps}) {\n  const [price , setPrice] = useState(contents.ideaToken);\n  const [playerId , setId] = useState();\n  const [call , setCall] = useState();\n  const name = contents.title;\n  \n  useEffect(()=>{\n    regiCheck();\n  },[]);\n\n  const regiCheck = () => {\n    setId(registChecker(useraddr));\n  }\n  \n  const sendBtn = () => {\n    if(call > price)\n      ptcpInAuction();\n    else\n      alert('입찰할 토큰 수량은 ' + price + '보다 커야합니다.');\n  }\n  \n  const ptcpInAuction = () => {\n    let firstPtcp = true;\n    if(ptcps > 0)\n      firstPtcp = false;\n\n    const result = putBidIdea({  //result = false or true\n      teamId: contents.id, \n      userId: useraddr,\n      bidtoken: call,\n      first: firstPtcp\n    }).then(success => {\n      if(success)\n        alert('입찰 되었습니다');\n      else\n        console.log('err 334');\n    })\n  }\n\n  return(\n    <>\n      아이디어 이름: {name} <br/>\n      <p style={{margin: 0, fontSize: \"18px\"}}>현재 호가 또는 시작가: {price}</p>\n      <p style={{margin: 0, fontSize: \"18px\"}}>경매 참여자 수: {ptcps}</p>\n      <br/>입찰할 포인트:<br/>\n      <input type='number' min={price} max={999999} step={1} onChange={(evt)=>setCall(evt.target.value)}></input>\n      <br/><br/>\n      <button className=\"App-exeButton2\" onClick={sendBtn}>send</button>\n    </>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}