{"ast":null,"code":"var _jsxFileName = \"/home/giparang/threadweb/sinsekai/client/src/pages/IdeaUpage.js\";\nimport React from \"react\";\nimport { postCreateIdea } from \"../api.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class UploadIead extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {// if(localStorage.getItem('desc').length > 2 && localStorage.getItem('title').length>2){\n      //   this.setState({desc: localStorage.getItem('desc')});\n      //   this.setState({title: localStorage.getItem('title')});\n      // }\n    };\n\n    this.handleFormSubmit = async event => {\n      const result = window.confirm('업로드한 아이디어는 모두에게 공개됩니다.\\r\\n업로드시 10포인트가 지급됩니다.\\r\\n아이디어를 업로드 하시겠습니까?');\n      let record = null;\n      event.preventDefault();\n\n      if (result) {\n        const record = {\n          name: event.target.elements.docuname.value,\n          desc: event.target.elements.docudesc.value,\n          useraddr: this.state.accounts[0],\n          price: event.target.elements.price.value,\n          mode: this.state.uploadMode,\n          fbolb: this.state.fblob\n        };\n        localStorage.clear();\n        await postCreateIdea(record);\n        console.log('v: ', record);\n        alert('아이디어가 업로드되었습니다.');\n      }\n    };\n\n    this.onFileInputChange = e => {\n      const reader = new FileReader();\n      const fileByteArray = []; //console.log(evt.target.files[0]);\n\n      reader.readAsArrayBuffer(e.target.files[0]);\n\n      reader.onloadend = _evt => {\n        if (_evt.target.readyState === FileReader.DONE) {\n          const arrayBuffer = _evt.target.result,\n                array = new Uint8Array(arrayBuffer);\n\n          for (const a of array) {\n            fileByteArray.push(a);\n          }\n\n          console.log(fileByteArray);\n          this.setState({\n            fblob: fileByteArray\n          });\n        }\n      };\n    };\n\n    this.onDescChange = evt => {\n      this.setState({\n        desc: evt.target.value\n      });\n      localStorage.setItem('desc', this.state.desc);\n    };\n\n    this.onTitleChange = evt => {\n      this.setState({\n        title: evt.target.value\n      });\n      localStorage.setItem('title', this.state.title);\n    };\n\n    this.tempsave = () => {\n      console.log(this.state.desc);\n    };\n\n    this.inputForm = () => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleFormSubmit,\n          style: {\n            marginLeft: '5em'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 9\n          }, this), \"\\uC544\\uC774\\uB514\\uC5B4 \\uC81C\\uBAA9\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"docuname\",\n            size: \"38\",\n            placeholder: \"\\uC81C\\uBAA9\\uC758 \\uC911\\uC694\\uC131\\uC740 \\uC5F4\\uBC88 \\uB9D0\\uD574\\uB3C4 \\uC9C0\\uB098\\uCE58\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4\",\n            defaultValue: this.state.title,\n            onChange: this.onTitleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 145\n          }, this), \"\\uC544\\uC774\\uB514\\uC5B4 \\uCD08\\uB85D\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"docudesc\",\n            rows: \"5\",\n            cols: \"42\",\n            placeholder: \"1~3\\uC904 \\uC815\\uB3C4\\uC758 \\uC544\\uC774\\uB514\\uC5B4 \\uC694\\uC57D\\r\\r \",\n            defaultValue: this.state.desc,\n            onChange: this.onDescChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 9\n          }, this), \"\\uC2A4\\uD1A0\\uB9AC\\uD154\\uB9C1 \\uD30C\\uC77C\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#C6C6C6',\n              fontSize: \"16px\",\n              margin: 0\n            },\n            children: \"\\uCD08\\uB85D\\uC744 \\uBCF4\\uACE0 \\uB4E4\\uC5B4\\uC628 \\uC0AC\\uB78C\\uB4E4\\uC774 \\uB354 \\uC790\\uC138\\uD55C \\uC815\\uBCF4\\uB97C \\uC5BB\\uC744 \\uC218 \\uC788\\uB3C4\\uB85D \\uC2A4\\uD1A0\\uB9AC\\uD154\\uB9C1 \\uD30C\\uC77C\\uC744 \\uC5C5\\uB85C\\uB4DC \\uD574\\uC8FC\\uC138\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: this.onFileInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 9\n          }, this), this.state.uploadMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 16\n            }, this), \"\\uC0C1\\uC138\\uC124\\uBA85\\uD30C\\uC77C\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#C6C6C6',\n                fontSize: \"16px\",\n                margin: 0\n              },\n              children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uC778\\uC218\\uAD8C\\uC790\\uAC00 \\uAC70\\uB798\\uB97C \\uACB0\\uC2EC\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uC544\\uC774\\uB514\\uC5B4\\uC5D0 \\uB300\\uD574 \\uCD5C\\uB300\\uD55C \\uC0C1\\uC138\\uD788 \\uAE30\\uC220\\uD574\\uC8FC\\uC138\\uC694.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: this.onFileInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 16\n            }, this), \"\\uACBD\\uB9E4\\uC2DC\\uC791\\uAC00(\\uD1A0\\uD070\\uAC2F\\uC218):\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"price\",\n              type: \"text\",\n              placeholder: \"amount of RED(Token)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 16\n            }, this), \"\\uBAA9\\uD45C\\uD1A0\\uD070\\uAC2F\\uC218:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"price\",\n              type: \"text\",\n              placeholder: \"amount of RED(Token)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"App-exeButton2\",\n            type: \"submit\",\n            children: \"\\uC791\\uC131\\uC644\\uB8CC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 7\n        }, this)\n      }, void 0, false);\n    };\n\n    this.checkRadio = evt => {\n      console.log(this.state.uploadMode);\n\n      switch (evt.target.value) {\n        case 'dirc':\n          this.setState({\n            uploadMode: 1\n          });\n          break;\n\n        case 'cycl':\n          this.setState({\n            uploadMode: 2\n          });\n          break;\n\n        case 'fund':\n          this.setState({\n            uploadMode: 0\n          });\n      }\n\n      this.setState({\n        modeCheck: true\n      });\n    };\n\n    this.state = {\n      price: null,\n      title: null,\n      desc: null,\n      fblob: null,\n      uploadMode: null,\n      modeCheck: false,\n      accounts: this.props.accounts,\n      contract: this.props.contract\n    }; //this.modalClose = this.modalClose.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App-header\",\n        children: /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"App-display\",\n          children: this.state.modeCheck ? /*#__PURE__*/_jsxDEV(this.inputForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 37\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uC5C5\\uB85C\\uB4DC \\uBC29\\uC2DD\\uC744 \\uC815\\uD574\\uC8FC\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                cursor: 'pointer'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"color1\",\n                value: \"dirc\",\n                onChange: this.checkRadio\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 48\n              }, this), \" idea to sale\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              style: {\n                color: '#C6C6C6',\n                fontSize: \"18px\",\n                marginRight: '8em'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uC544\\uC774\\uB514\\uC5B4\\uB97C \\uACBD\\uB9E4\\uD615\\uC2DD\\uC73C\\uB85C \\uD310\\uB9E4\\uD569\\uB2C8\\uB2E4 \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 82\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uACBD\\uB9E4\\uC5D0 \\uC785\\uCC30\\uD558\\uB294 \\uBAA8\\uB4E0 \\uC0AC\\uB78C\\uC744 \\uCC38\\uC5EC\\uC790, \\uC0C1\\uC138\\uC124\\uBA85\\uD30C\\uC77C \\uC5F4\\uB78C\\uC790\\uACA9\\uACFC \\uC544\\uC774\\uB514\\uC5B4\\uB97C \\uC778\\uC218\\uD560 \\uAD8C\\uB9AC\\uB97C \\uC5BB\\uC740\\uC790\\uB97C \\uB099\\uCC30\\uC790, \\uCD5C\\uC885\\uC801\\uC73C\\uB85C \\uC544\\uC774\\uB514\\uC5B4\\uB97C \\uC778\\uC218\\uD558\\uC5EC \\uAC70\\uB798\\uB97C \\uC644\\uB8CC\\uC2DC\\uD0A8\\uC790\\uB97C \\uC778\\uC218\\uC790\\uB77C \\uCE6D\\uD569\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uACBD\\uB9E4 \\uCC38\\uC5EC\\uC790\\uC911 \\uAC00\\uC7A5 \\uB192\\uC740 \\uAE08\\uC561\\uC744 \\uC81C\\uC2DC\\uD55C \\uCC38\\uC5EC\\uC790\\uB97C \\uB099\\uCC30\\uC790\\uB85C \\uC120\\uC815\\uD569\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uB099\\uCC30\\uC790\\uAC00 \\uBC18\\uB4DC\\uC2DC \\uC778\\uC218\\uC790\\uAC00 \\uB41C\\uB2E4\\uB294 \\uBCF4\\uC7A5\\uC740 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uC544\\uC774\\uB514\\uC5B4 \\uBB38\\uC11C\\uB294 100\\uC790 \\uC774\\uB0B4\\uC758 '\\uAC04\\uB2E8\\uC124\\uBA85'\\uACFC \\uC0AC\\uB78C\\uB4E4\\uC758 \\uACBD\\uB9E4 \\uCC38\\uC5EC\\uB97C \\uACB0\\uC2EC\\uD558\\uAC8C \\uD560 '\\uC2A4\\uD1A0\\uB9AC\\uD154\\uB9C1\\uD30C\\uC77C'(\\uC900 \\uC0C1\\uC138\\uD30C\\uC77C) \\uADF8\\uB9AC\\uACE0 \\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uC2E4\\uD589/\\uAD6C\\uD604\\uBC29\\uBC95\\uC744 \\uB2F4\\uC740 '\\uC0C1\\uC138\\uC124\\uBA85\\uD30C\\uC77C'\\uB85C \\uC774\\uB8E8\\uC5B4\\uC9D1\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uC774 \\uC911 '\\uC0C1\\uC138\\uC124\\uBA85\\uD30C\\uC77C'\\uC740 \\uACBD\\uB9E4 \\uC885\\uB8CC \\uD6C4 \\uB099\\uCC30\\uC790\\uC5D0\\uAC8C\\uB9CC \\uACF5\\uAC1C\\uB418\\uBA70 \\uC5F4\\uB78C\\uC0AC\\uC2E4\\uC774 \\uBE14\\uB85D\\uCCB4\\uC778\\uC0C1\\uC5D0 \\uAE30\\uB85D\\uB429\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uB099\\uCC30\\uC790\\uB294 \\uC778\\uC218\\uACB0\\uC2EC\\uC744 \\uC704\\uD55C '\\uC0C1\\uC138\\uC124\\uBA85\\uD30C\\uC77C'\\uC5D0 \\uAE30\\uC7AC\\uB41C \\uC815\\uBCF4 \\uC774\\uC678\\uC758 \\uCD94\\uAC00 \\uC815\\uBCF4\\uB97C \\uC694\\uAD6C\\uD560 \\uC218 \\uC788\\uC73C\\uBA70 \\uC774 \\uACBD\\uC6B0 \\uC5F4\\uB78C\\uC0AC\\uC2E4 \\uAE30\\uB85D\\uC744 \\uC704\\uD574 \\uBC18\\uB4DC\\uC2DC '\\uC4F0\\uB808\\uB4DC \\uC6F9'\\uC744 \\uD1B5\\uD574 \\uB099\\uCC30\\uC790\\uC5D0\\uAC8C \\uCD94\\uAC00\\uC801\\uC778 \\uD30C\\uC77C\\uC744 \\uC804\\uB2EC\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\uACBD\\uB9E4\\uB294 \\uCCAB \\uC785\\uCC30\\uC790\\uAC00 \\uCC38\\uC5EC\\uD55C \\uD6C4\\uBD80\\uD130 3\\uC77C\\uAC04 \\uC9C4\\uD589\\uB429\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 56\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                cursor: 'pointer'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"color1\",\n                value: \"fund\",\n                onChange: this.checkRadio\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 48\n              }, this), \" idea to share\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#C6C6C6',\n                fontSize: \"18px\",\n                margin: 0\n              },\n              children: [\" \\uC544\\uC774\\uB514\\uC5B4\\uB97C \\uC790\\uC720\\uB86D\\uAC8C \\uC81C\\uC548\\uD569\\uB2C8\\uB2E4\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 89\n              }, this), \"\\uC544\\uC774\\uB514\\uC5B4\\uC758 \\uC870\\uD68C\\uC218\\uB9CC\\uD07C \\uD3EC\\uC778\\uD2B8\\uB97C \\uD68D\\uB4DD\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 41\n              }, this), \"\\uB2F9\\uC2E0\\uC758 \\uC544\\uC774\\uB514\\uC5B4\\uC5D0 \\uB2E4\\uB978 \\uC0AC\\uB78C\\uB4E4\\uC774 \\uB313\\uAE00\\uC744 \\uB2EC \\uC218\\uB3C4, \\uD6C4\\uC6D0\\uC744 \\uD560 \\uC218\\uB3C4 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","postCreateIdea","UploadIead","Component","constructor","props","componentDidMount","handleFormSubmit","event","result","window","confirm","record","preventDefault","name","target","elements","docuname","value","desc","docudesc","useraddr","state","accounts","price","mode","uploadMode","fbolb","fblob","localStorage","clear","console","log","alert","onFileInputChange","e","reader","FileReader","fileByteArray","readAsArrayBuffer","files","onloadend","_evt","readyState","DONE","arrayBuffer","array","Uint8Array","a","push","setState","onDescChange","evt","setItem","onTitleChange","title","tempsave","inputForm","marginLeft","color","fontSize","margin","checkRadio","modeCheck","contract","render","cursor","marginRight"],"sources":["/home/giparang/threadweb/sinsekai/client/src/pages/IdeaUpage.js"],"sourcesContent":["import React from \"react\";\nimport { postCreateIdea } from \"../api.js\";\n\nexport class UploadIead extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      price: null,\n      title: null,\n      desc: null,\n      fblob: null,\n      uploadMode: null,\n      modeCheck: false,\n      accounts: this.props.accounts,\n      contract: this.props.contract\n    };\n    //this.modalClose = this.modalClose.bind(this);\n  }\n\n  componentDidMount = () => {\n    // if(localStorage.getItem('desc').length > 2 && localStorage.getItem('title').length>2){\n    //   this.setState({desc: localStorage.getItem('desc')});\n    //   this.setState({title: localStorage.getItem('title')});\n    // }\n  }\n\n  handleFormSubmit = async(event) => {\n    const result = window.confirm('업로드한 아이디어는 모두에게 공개됩니다.\\r\\n업로드시 10포인트가 지급됩니다.\\r\\n아이디어를 업로드 하시겠습니까?');\n    let record = null;\n    event.preventDefault();\n    if(result){\n      const record = {\n        name: event.target.elements.docuname.value,\n        desc: event.target.elements.docudesc.value,\n        useraddr: this.state.accounts[0],\n        price: event.target.elements.price.value,\n        mode: this.state.uploadMode,\n        fbolb: this.state.fblob\n      };\n      localStorage.clear();\n      await postCreateIdea(record);\n      console.log('v: ', record);\n      \n      alert('아이디어가 업로드되었습니다.');\n    }\n  }\n    \n  onFileInputChange = (e) => {\n    const reader = new FileReader();\n    const fileByteArray = [];\n    //console.log(evt.target.files[0]);\n    \n    reader.readAsArrayBuffer(e.target.files[0]);\n    reader.onloadend = (_evt) => {\n      if (_evt.target.readyState === FileReader.DONE) {\n        const arrayBuffer = _evt.target.result,\n        array = new Uint8Array(arrayBuffer);\n        for (const a of array) {\n          fileByteArray.push(a);\n        }\n        console.log(fileByteArray);\n        this.setState({fblob: fileByteArray});\n      }\n    }\n  }\n  onDescChange = (evt) => {\n    this.setState({desc: evt.target.value});\n    localStorage.setItem('desc', this.state.desc);\n  }\n  onTitleChange = (evt) => {\n    this.setState({title: evt.target.value});\n    localStorage.setItem('title', this.state.title);\n  }\n  // onNameChange = (evt) => {\n  //   this.setState({desc: evt.target.value});\n  // }\n  tempsave = () => {\n    console.log(this.state.desc);\n  }\n\n  inputForm = () => {\n    return(<>\n      <form onSubmit={this.handleFormSubmit} style={{marginLeft:'5em'}}>\n        {/* addr:\n        <input name=\"addr\" size='44' value={this.state.accounts} disabled=\"disabled\"/>\n        <br/> */}\n        <br/>\n        아이디어 제목<br/>\n        <input name=\"docuname\" size='38' placeholder='제목의 중요성은 열번 말해도 지나치지 않습니다' defaultValue={this.state.title} onChange={this.onTitleChange}/><br/>\n        아이디어 초록<br/>\n        <textarea name=\"docudesc\" rows='5' cols='42' placeholder=\"1~3줄 정도의 아이디어 요약&#13;&#13;\n        \" defaultValue={this.state.desc} onChange={this.onDescChange}/>\n        <br/>\n        스토리텔링 파일<br/>\n        <p style={{color: '#C6C6C6', fontSize: \"16px\", margin: 0}}>초록을 보고 들어온 사람들이 더 자세한 정보를 얻을 수 있도록 스토리텔링 파일을 업로드 해주세요</p>\n        <input type='file' onChange={this.onFileInputChange}/>\n        \n        {this.state.uploadMode ? <>\n          <br/><br/>\n          상세설명파일<br/>\n          <p style={{color: '#C6C6C6', fontSize: \"16px\", margin: 0}}>아이디어 인수권자가 거래를 결심할 수 있도록 아이디어에 대해 최대한 상세히 기술해주세요.</p>\n          <input type='file' onChange={this.onFileInputChange}/>\n          <br/><br/>\n          경매시작가(토큰갯수):\n          <input name=\"price\" type=\"text\" placeholder='amount of RED(Token)'/>\n        </> : <> \n          <br/><br/>목표토큰갯수:<br/>\n          <input name=\"price\" type=\"text\" placeholder='amount of RED(Token)'/>\n        </>}\n        <br/><br/>\n        <button className=\"App-exeButton2\" type=\"submit\">\n        작성완료\n        </button>\n      </form>\n      {/* <button onClick={this.tempsave}>tempsave</button> */}\n    </>)\n  }\n\n  checkRadio = (evt) => {\n    console.log(this.state.uploadMode);\n    switch(evt.target.value){\n      case 'dirc':\n        this.setState({uploadMode: 1});\n        break;\n      case 'cycl':\n        this.setState({uploadMode: 2});\n        break;\n      case 'fund':\n        this.setState({uploadMode: 0});\n    }\n    this.setState({modeCheck: true});\n  }\n  \n  render(){\n    return(\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <section className=\"App-display\">\n            {this.state.modeCheck ? <this.inputForm></this.inputForm> : <>\n            <p>아이디어 업로드 방식을 정해주세요</p>\n            <br/>\n            <label style={{cursor: 'pointer'}}><input type=\"radio\" name=\"color1\" value=\"dirc\" onChange={this.checkRadio}/> idea to sale</label>\n            <ul style={{color: '#C6C6C6', fontSize: \"18px\", marginRight: '8em'}}><li>아이디어를 경매형식으로 판매합니다 </li>\n            <li>경매에 입찰하는 모든 사람을 참여자, 상세설명파일 열람자격과 아이디어를 인수할 권리를 얻은자를 낙찰자, 최종적으로 아이디어를 인수하여 거래를 완료시킨자를 인수자라 칭합니다.</li>\n            <li>경매 참여자중 가장 높은 금액을 제시한 참여자를 낙찰자로 선정합니다.</li>\n            <li>낙찰자가 반드시 인수자가 된다는 보장은 없습니다.</li>\n            <li>아이디어 문서는 100자 이내의 '간단설명'과 사람들의 경매 참여를 결심하게 할 '스토리텔링파일'(준 상세파일)\n            그리고 아이디어의 실행/구현방법을 담은 '상세설명파일'로 이루어집니다.</li>\n            <li>이 중 '상세설명파일'은 경매 종료 후 낙찰자에게만 공개되며 열람사실이 블록체인상에 기록됩니다.</li>\n            <li>낙찰자는 인수결심을 위한 '상세설명파일'에 기재된 정보 이외의 추가 정보를 요구할 수 있으며 이 경우 열람사실 기록을 위해 반드시 '쓰레드 웹'을 통해 낙찰자에게 추가적인 파일을 전달해야 합니다.</li>\n            <li>경매는 첫 입찰자가 참여한 후부터 3일간 진행됩니다.</li></ul><br/>\n            {/* <label><input type=\"radio\" name=\"color1\" value=\"cycl\" onChange={this.checkRadio}/> 다른 사람들과 협업하여 개선 후 팔기</label> */}\n            <label style={{cursor: 'pointer'}}><input type=\"radio\" name=\"color1\" value=\"fund\" onChange={this.checkRadio}/> idea to share</label>\n            <p style={{color: '#C6C6C6', fontSize: \"18px\", margin: 0}}> 아이디어를 자유롭게 제안합니다<br/>\n            아이디어의 조회수만큼 포인트를 획득할 수 있습니다.<br/>\n            당신의 아이디어에 다른 사람들이 댓글을 달 수도, 후원을 할 수도 있습니다.\n            </p>\n            </>}\n          </section>\n        </div>\n      </div>\n    )\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}